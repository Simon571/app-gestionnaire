(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1545],{6943:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},11647:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var r=s(95155);s(12115);var n=s(83101),a=s(64269);let i=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:s}),t),...n})}},32265:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},38162:(e,t,s)=>{"use strict";s.d(t,{C1:()=>A,bL:()=>w});var r=s(12115),n=s(94446),a=s(3468),i=s(92556),l=s(23558),c=s(78108),d=s(84288),o=s(76842),u=s(88142),m=s(95155),h="Checkbox",[x,p]=(0,a.A)(h),[j,f]=x(h),v=r.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:a,checked:c,defaultChecked:d,required:o,disabled:h,value:x="on",onCheckedChange:p,form:f,...v}=e,[g,b]=r.useState(null),w=(0,n.s)(t,e=>b(e)),A=r.useRef(!1),C=!g||f||!!g.closest("form"),[S=!1,E]=(0,l.i)({prop:c,defaultProp:d,onChange:p}),B=r.useRef(S);return r.useEffect(()=>{let e=null==g?void 0:g.form;if(e){let t=()=>E(B.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[g,E]),(0,m.jsxs)(j,{scope:s,state:S,disabled:h,children:[(0,m.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":y(S)?"mixed":S,"aria-required":o,"data-state":k(S),"data-disabled":h?"":void 0,disabled:h,value:x,...v,ref:w,onKeyDown:(0,i.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.m)(e.onClick,e=>{E(e=>!!y(e)||!e),C&&(A.current=e.isPropagationStopped(),A.current||e.stopPropagation())})}),C&&(0,m.jsx)(N,{control:g,bubbles:!A.current,name:a,value:x,checked:S,required:o,disabled:h,form:f,style:{transform:"translateX(-100%)"},defaultChecked:!y(d)&&d})]})});v.displayName=h;var g="CheckboxIndicator",b=r.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:r,...n}=e,a=f(g,s);return(0,m.jsx)(o.C,{present:r||y(a.state)||!0===a.state,children:(0,m.jsx)(u.sG.span,{"data-state":k(a.state),"data-disabled":a.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});b.displayName=g;var N=e=>{let{control:t,checked:s,bubbles:n=!0,defaultChecked:a,...i}=e,l=r.useRef(null),o=(0,c.Z)(s),u=(0,d.X)(t);r.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==s&&t){let r=new Event("click",{bubbles:n});e.indeterminate=y(s),t.call(e,!y(s)&&s),e.dispatchEvent(r)}},[o,s,n]);let h=r.useRef(!y(s)&&s);return(0,m.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:null!=a?a:h.current,...i,tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(e){return"indeterminate"===e}function k(e){return y(e)?"indeterminate":e?"checked":"unchecked"}var w=v,A=b},40252:(e,t,s)=>{Promise.resolve().then(s.bind(s,83620))},64269:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var r=s(2821),n=s(75889);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,r.$)(t))}},73457:(e,t,s)=>{"use strict";s.d(t,{S:()=>c});var r=s(95155),n=s(12115),a=s(38162),i=s(72251),l=s(64269);let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.bL,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","accent-amber-500","data-[state=checked]:bg-amber-500 data-[state=checked]:border-amber-500",s),...n,children:(0,r.jsx)(a.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})})});c.displayName=a.bL.displayName},83620:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var r=s(95155),n=s(12115),a=s(86948),i=s(3998),l=s(87270),c=s(11186),d=s(74640),o=s(32265),u=s(13630);let m=(0,s(14294).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var h=s(88964),x=s(6943),p=s(51834),j=s(65142),f=s(76444),v=s(73457),g=s(11647),b=s(15894);let N=e=>{let{circuit:t,onSave:s,onCancel:n}=e;return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.currentTarget);s({id:t.get("id"),name:t.get("name")})},className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(f.Label,{htmlFor:"id",className:"text-right",children:"ID de la circonscription"}),(0,r.jsx)(j.p,{id:"id",name:"id",defaultValue:(null==t?void 0:t.id)||"",className:"col-span-3"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(f.Label,{htmlFor:"name",className:"text-right",children:"Nom de la circonscription"}),(0,r.jsx)(j.p,{id:"name",name:"name",defaultValue:(null==t?void 0:t.name)||"",className:"col-span-3"})]}),(0,r.jsxs)(p.Es,{children:[(0,r.jsx)(i.Button,{type:"button",variant:"ghost",onClick:n,children:"Annuler"}),(0,r.jsx)(i.Button,{type:"submit",children:"Sauvegarder"})]})]})},y=e=>{let{speaker:t,onSave:s,onCancel:n}=e;return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.currentTarget);s({name:t.get("name"),congregation:t.get("congregation"),phone:t.get("phone"),isElder:"on"===t.get("isElder"),isServant:"on"===t.get("isServant")})},className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(f.Label,{htmlFor:"name",className:"text-right",children:"Nom et pr\xe9nom"}),(0,r.jsx)(j.p,{id:"name",name:"name",defaultValue:(null==t?void 0:t.name)||"",className:"col-span-3"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(f.Label,{htmlFor:"congregation",className:"text-right",children:"Assembl\xe9e"}),(0,r.jsx)(j.p,{id:"congregation",name:"congregation",defaultValue:(null==t?void 0:t.congregation)||"",className:"col-span-3"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(f.Label,{className:"text-right",children:"Fonction"}),(0,r.jsxs)("div",{className:"col-span-3 flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(v.S,{id:"isElder",name:"isElder",defaultChecked:null==t?void 0:t.isElder}),(0,r.jsx)(f.Label,{htmlFor:"isElder",className:"font-normal",children:"Ancien"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(v.S,{id:"isServant",name:"isServant",defaultChecked:null==t?void 0:t.isServant}),(0,r.jsx)(f.Label,{htmlFor:"isServant",className:"font-normal",children:"Assistant"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(f.Label,{htmlFor:"phone",className:"text-right",children:"T\xe9l\xe9phone"}),(0,r.jsx)(j.p,{id:"phone",name:"phone",defaultValue:(null==t?void 0:t.phone)||"",className:"col-span-3"})]}),(0,r.jsxs)(p.Es,{children:[(0,r.jsx)(i.Button,{type:"button",variant:"ghost",onClick:n,children:"Annuler"}),(0,r.jsx)(i.Button,{type:"submit",children:"Sauvegarder"})]})]})};function k(){let[e,t]=n.useState([]),[s,j]=n.useState([]),[f,v]=n.useState(null),[k,w]=n.useState(!1),[A,C]=n.useState(null),[S,E]=n.useState(!1),[B,R]=n.useState(null),{toast:L}=(0,b.dj)(),F=e=>{C(e),w(!0)},M=e.find(e=>e.id===f),T=s.filter(e=>e.circuitId===f);return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)(a.Zp,{className:"md:col-span-1",children:[(0,r.jsx)(a.aR,{children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(c.l6,{value:f||"",onValueChange:v,children:[(0,r.jsx)(c.bq,{className:"w-[250px]",children:(0,r.jsx)(c.yv,{placeholder:"Toutes les circonscriptions"})}),(0,r.jsxs)(c.gC,{children:[e.filter(e=>e.id&&""!==e.id.trim()).map(e=>(0,r.jsxs)(c.eb,{value:e.id,children:[e.id," - ",e.name]},e.id)),0===e.length&&(0,r.jsx)(c.eb,{value:"__none__",disabled:!0,children:"Aucune circonscription trouv\xe9e"})]})]}),M&&(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>F(M),disabled:!f,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(p.lG,{open:k,onOpenChange:w,children:[(0,r.jsx)(p.zM,{asChild:!0,children:(0,r.jsx)(i.Button,{variant:"outline",size:"icon",onClick:()=>{C(null),w(!0)},children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(p.Cf,{children:[(0,r.jsx)(p.c7,{children:(0,r.jsx)(p.L3,{children:A?"Modifier la circonscription":"Ajouter une nouvelle circonscription"})}),(0,r.jsx)(N,{circuit:A,onSave:s=>{if(A)t(e.map(e=>e.id===A.id?s:e)),L({title:'Circonscription "'.concat(s.name,'" mise \xe0 jour.')});else{let r={...s,id:s.id||"circ-".concat(Date.now())};t([...e,r]),v(r.id),L({title:'Circonscription "'.concat(r.name,'" ajout\xe9e.')})}w(!1),C(null)},onCancel:()=>w(!1)})]})]}),(0,r.jsx)(i.Button,{variant:"outline",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>{if(f){let r=e.find(e=>e.id===f);t(e.filter(e=>e.id!==f)),j(s.filter(e=>e.circuitId!==f)),v(null),L({title:'Circonscription "'.concat(null==r?void 0:r.name,'" supprim\xe9e.'),variant:"destructive"})}},disabled:!f,children:(0,r.jsx)(u.A,{className:"h-4 w-4"})}),(0,r.jsx)(i.Button,{variant:"outline",size:"icon",children:(0,r.jsx)(m,{className:"h-4 w-4"})})]})]})}),(0,r.jsx)(a.Wu,{children:(0,r.jsxs)(l.XI,{children:[(0,r.jsx)(l.A0,{children:(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nd,{className:"w-[150px]",children:"Circonscr."}),(0,r.jsx)(l.nd,{children:"Nom"}),(0,r.jsx)(l.nd,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(l.BF,{children:e.map(e=>(0,r.jsxs)(l.Hj,{onClick:()=>v(e.id),className:f===e.id?"bg-muted/50 cursor-pointer":"cursor-pointer",children:[(0,r.jsx)(l.nA,{children:e.id}),(0,r.jsx)(l.nA,{className:"font-medium",children:e.name}),(0,r.jsx)(l.nA,{className:"text-right",children:(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),F(e)},children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})})]},e.id))})]})})]}),(0,r.jsxs)(a.Zp,{className:"flex flex-col md:col-span-2",children:[(0,r.jsx)(a.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.ZB,{children:"Orateurs"}),(0,r.jsx)(a.BT,{children:f?"Orateurs pour la circonscription ".concat(null==M?void 0:M.name):"S\xe9lectionnez une circonscription pour voir les orateurs."})]}),(0,r.jsxs)(p.lG,{open:S,onOpenChange:E,children:[(0,r.jsx)(p.zM,{asChild:!0,children:(0,r.jsxs)(i.Button,{variant:"outline",onClick:()=>{R(null),E(!0)},disabled:!f,children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Ajouter un orateur"]})}),(0,r.jsxs)(p.Cf,{children:[(0,r.jsx)(p.c7,{children:(0,r.jsx)(p.L3,{children:B?"Modifier l'orateur":"Ajouter un nouvel orateur"})}),(0,r.jsx)(y,{speaker:B,onSave:e=>{B?(j(s.map(t=>t.id===B.id?{...B,...e}:t)),L({title:'Orateur "'.concat(e.name,'" mis \xe0 jour.')})):f&&(j([...s,{...e,id:"spk-".concat(Date.now()),circuitId:f}]),L({title:'Orateur "'.concat(e.name,'" ajout\xe9.')})),E(!1),R(null)},onCancel:()=>E(!1)})]})]})]})}),(0,r.jsx)(a.Wu,{className:"flex-grow",children:T.length>0?(0,r.jsxs)(l.XI,{children:[(0,r.jsx)(l.A0,{children:(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nd,{children:"Assembl\xe9e"}),(0,r.jsx)(l.nd,{children:"Nom et pr\xe9nom"}),(0,r.jsx)(l.nd,{children:"Fonction"}),(0,r.jsx)(l.nd,{children:"T\xe9l\xe9phone"}),(0,r.jsx)(l.nd,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(l.BF,{children:T.map(e=>(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nA,{children:e.congregation}),(0,r.jsx)(l.nA,{className:"font-medium",children:e.name}),(0,r.jsx)(l.nA,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[e.isElder&&(0,r.jsx)(g.E,{variant:"secondary",children:"Ancien"}),e.isServant&&(0,r.jsx)(g.E,{variant:"outline",children:"Assistant"})]})}),(0,r.jsx)(l.nA,{children:e.phone}),(0,r.jsxs)(l.nA,{className:"text-right",children:[(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>{R(e),E(!0)},children:(0,r.jsx)(h.A,{className:"h-4 w-4"})}),(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>(e=>{let t=s.find(t=>t.id===e);j(s.filter(t=>t.id!==e)),L({title:'Orateur "'.concat(null==t?void 0:t.name,'" supprim\xe9.'),variant:"destructive"})})(e.id),children:(0,r.jsx)(u.A,{className:"h-4 w-4"})})]})]},e.id))})]}):(0,r.jsxs)("div",{className:"text-center text-muted-foreground py-10",children:[(0,r.jsx)(x.A,{className:"mx-auto h-12 w-12 opacity-50"}),(0,r.jsx)("p",{className:"mt-4 text-sm",children:f?"Aucun orateur pour cette circonscription.":"Aucune circonscription s\xe9lectionn\xe9e"})]})})]})]})}},87270:(e,t,s)=>{"use strict";s.d(t,{A0:()=>l,BF:()=>c,Hj:()=>d,XI:()=>i,nA:()=>u,nd:()=>o});var r=s(95155),n=s(12115),a=s(64269);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",s),...n})})});i.displayName="Table";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",s),...n})});l.displayName="TableHeader";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",s),...n})});c.displayName="TableBody",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...n})}).displayName="TableFooter";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...n})});d.displayName="TableRow";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...n})});o.displayName="TableHead";let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...n})});u.displayName="TableCell",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",s),...n})}).displayName="TableCaption"},88964:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])}},e=>{e.O(0,[830,3928,5502,9823,2820,8441,1255,7358],()=>e(e.s=40252)),_N_E=e.O()}]);