(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1316],{3998:(e,t,r)=>{"use strict";r.d(t,{Button:()=>d,r:()=>c});var s=r(95155),n=r(12115),a=r(17129),i=r(83101),o=r(92033),l=r(64269);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:d=!1,loading:u=!1,loadingText:p="Patientez...",children:m,...h}=e,g=d?a.DX:"button",y=u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),p]}):(0,s.jsx)(s.Fragment,{children:m});return(0,s.jsx)(g,{className:(0,l.cn)(c({variant:n,size:i,className:r})),ref:t,disabled:u,"aria-busy":u,...h,children:d?m:y})});d.displayName="Button"},13630:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},32458:(e,t,r)=>{Promise.resolve().then(r.bind(r,61802))},36654:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},50477:()=>{},53489:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},61270:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(14294).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},61802:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,dynamic:()=>x});var s=r(95155),n=r(12115),a=r(86948),i=r(3998),o=r(14294);let l=(0,o.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var c=r(61270),d=r(36654),u=r(53489);let p=(0,o.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=r(13630),h=r(91959);class g{static getInstance(){return this.instance||(this.instance=new g),this.instance}setupClientListeners(){window.addEventListener("online",()=>{this.syncStatus.isOnline=!0,this.autoSync()}),window.addEventListener("offline",()=>{this.syncStatus.isOnline=!1}),setInterval(()=>{this.syncStatus.isOnline&&this.syncStatus.pendingChanges>0&&this.autoSync()},3e5)}async createSecureBackup(e){try{let t={version:"2.0.0-secure",timestamp:new Date,people:this.getStoredData("people")||[],territories:this.getStoredData("territories")||[],assignments:this.getStoredData("assignments")||[],settings:this.getStoredData("appSettings")||{},meetings:this.getStoredData("meetings")||[],encryption:{algorithm:"AES-256-GCM",keyDerivation:"PBKDF2"}},r=h.LC.encrypt(t),s=r;e&&(s=h.LC.encrypt({data:r,passwordHash:h.LC.hashPassword(e)}));let n=JSON.stringify({encrypted:s,timestamp:new Date().toISOString(),passwordProtected:!!e},null,2),a=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(a),o=document.createElement("a");return o.href=i,o.download="backup-secure-".concat(new Date().toISOString().split("T")[0],".enc.json"),o.click(),URL.revokeObjectURL(i),h.SB.log("BACKUP_CREATED","user",{type:"secure_backup",passwordProtected:!!e,size:n.length}),"Sauvegarde chiffr\xe9e cr\xe9\xe9e avec succ\xe8s"}catch(e){throw console.error("Erreur lors de la cr\xe9ation de la sauvegarde:",e),h.SB.log("BACKUP_FAILED","user",{error:String(e)}),Error("Erreur lors de la cr\xe9ation de la sauvegarde: ".concat(e))}}async restoreFromSecureBackup(e,t){try{let r,s=await e.text(),n=JSON.parse(s);try{if(n.passwordProtected&&t){let e=h.LC.decrypt(n.encrypted);if(!h.LC.verifyPassword(t,e.passwordHash))throw Error("Mot de passe incorrect");r=h.LC.decrypt(e.data)}else r=h.LC.decrypt(n.encrypted)}catch(e){throw Error("Impossible de d\xe9chiffrer la sauvegarde. V\xe9rifiez le mot de passe.")}let a=r;if(!a.version||!a.timestamp)throw Error("Format de sauvegarde invalide");return await this.createSecureBackup(),a.people&&h.Bu.setItem("people",a.people),a.territories&&h.Bu.setItem("territories",a.territories),a.assignments&&h.Bu.setItem("assignments",a.assignments),a.settings&&h.Bu.setItem("appSettings",a.settings),a.meetings&&h.Bu.setItem("meetings",a.meetings),h.SB.log("BACKUP_RESTORED","user",{backupDate:a.timestamp,dataRestored:["people","territories","assignments","settings","meetings"]}),"Restauration r\xe9ussie depuis la sauvegarde du ".concat(new Date(a.timestamp).toLocaleDateString())}catch(e){throw h.SB.log("BACKUP_RESTORE_FAILED","user",{error:String(e)}),Error("Erreur lors de la restauration: ".concat(e))}}async exportPersonalData(){try{let e={exportDate:new Date().toISOString(),data:{people:this.getStoredData("people")||[],assignments:this.getStoredData("assignments")||[],settings:this.getStoredData("appSettings")||{}}},t=JSON.stringify(e,null,2),r=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(r),n=document.createElement("a");n.href=s,n.download="personal-data-export-".concat(new Date().toISOString().split("T")[0],".json"),n.click(),URL.revokeObjectURL(s),h.SB.log("DATA_EXPORT_GDPR","user",{type:"personal_data_export",includesFields:Object.keys(e.data)})}catch(e){throw Error("Erreur lors de l'exportation: ".concat(e))}}async deleteAllPersonalData(e){if("DELETE_ALL_DATA_CONFIRM"!==e)throw Error("Code de confirmation invalide");try{await this.createSecureBackup(),h.Bu.removeItem("people"),h.Bu.removeItem("territories"),h.Bu.removeItem("assignments"),h.Bu.removeItem("appSettings"),h.Bu.removeItem("meetings"),h.Bu.removeItem("audit_logs"),h.SB.log("DATA_DELETION_GDPR","user",{type:"complete_data_deletion",timestamp:new Date().toISOString()}),console.warn("Toutes les donn\xe9es personnelles ont \xe9t\xe9 supprim\xe9es")}catch(e){throw Error("Erreur lors de la suppression: ".concat(e))}}async autoSync(){if(!this.syncStatus.syncing&&this.syncStatus.isOnline){this.syncStatus.syncing=!0,this.syncStatus.error=null;try{let e={people:this.getStoredData("people")||[],territories:this.getStoredData("territories")||[],assignments:this.getStoredData("assignments")||[],lastModified:Date.now()};await this.simulateCloudSync(e),this.syncStatus.lastSync=new Date,this.syncStatus.pendingChanges=0,h.SB.log("CLOUD_SYNC_SUCCESS","system",{lastSync:this.syncStatus.lastSync})}catch(e){this.syncStatus.error="Erreur de synchronisation: ".concat(e),h.SB.log("CLOUD_SYNC_FAILED","system",{error:String(e)})}finally{this.syncStatus.syncing=!1}}}async simulateCloudSync(e){if(await new Promise(e=>setTimeout(e,2e3)),.1>Math.random())throw Error("\xc9chec temporaire de la synchronisation");console.log("Donn\xe9es synchronis\xe9es de mani\xe8re s\xe9curis\xe9e")}markPendingChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.syncStatus.pendingChanges+=e}getSyncStatus(){return{...this.syncStatus}}async forcSync(){await this.autoSync()}checkConnectivity(){return navigator.onLine}getStoredData(e){try{return h.Bu.getItem(e)}catch(e){return null}}getAuditLogs(){return h.SB.getLogs()}constructor(){this.syncStatus={lastSync:null,isOnline:"undefined"!=typeof navigator&&navigator.onLine,pendingChanges:0,syncing:!1,error:null}}}let y=()=>{let[e,t]=(0,n.useState)(!1);(0,n.useEffect)(()=>{t(!0)},[]);let{exportPersonalData:r=async()=>{},deleteAllPersonalData:o=async()=>{},getAuditLogs:h=()=>[]}=function(){let[e,t]=(0,n.useState)({lastSync:null,isOnline:"undefined"!=typeof navigator&&navigator.onLine,pendingChanges:0,syncing:!1,error:null}),r=g.getInstance(),s=(0,n.useCallback)(()=>{t(r.getSyncStatus())},[r]);return(0,n.useEffect)(()=>{r.setupClientListeners(),s();let e=setInterval(s,5e3);return()=>clearInterval(e)},[]),{syncStatus:e,createSecureBackup:e=>r.createSecureBackup(e),restoreFromSecureBackup:(e,t)=>r.restoreFromSecureBackup(e,t),exportPersonalData:()=>r.exportPersonalData(),deleteAllPersonalData:e=>r.deleteAllPersonalData(e),forceSync:async()=>{await r.forcSync(),s()},markPendingChanges:e=>{r.markPendingChanges(e),s()},refreshStatus:s,getAuditLogs:()=>r.getAuditLogs()}}()||{},[y,x]=(0,n.useState)("privacy"),[f,v]=(0,n.useState)(!1),[S,b]=(0,n.useState)(""),[j,N]=(0,n.useState)(!1),[w,E]=(0,n.useState)(!1),[C,A]=(0,n.useState)(null),k=async()=>{try{E(!0),await r(),A({type:"success",text:"Vos donn\xe9es personnelles ont \xe9t\xe9 t\xe9l\xe9charg\xe9es avec succ\xe8s."})}catch(e){A({type:"error",text:"Erreur: ".concat(e)})}finally{E(!1)}},D=async()=>{if("DELETE_ALL_DATA_CONFIRM"!==S)return void A({type:"error",text:"Code de confirmation incorrect"});try{E(!0),await o("DELETE_ALL_DATA_CONFIRM"),A({type:"success",text:"Toutes vos donn\xe9es ont \xe9t\xe9 supprim\xe9es de mani\xe8re permanente."}),v(!1),b("")}catch(e){A({type:"error",text:"Erreur: ".concat(e)})}finally{E(!1)}},B=h();return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Confidentialit\xe9 & S\xe9curit\xe9"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"G\xe9rez vos donn\xe9es et contr\xf4lez votre s\xe9curit\xe9"})]}),C&&(0,s.jsx)("div",{className:"p-4 rounded-lg ".concat("success"===C.type?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:C.text}),(0,s.jsxs)("div",{className:"flex gap-2 border-b",children:[(0,s.jsxs)("button",{onClick:()=>x("privacy"),className:"px-4 py-2 font-semibold border-b-2 ".concat("privacy"===y?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,s.jsx)(l,{className:"w-4 h-4 inline mr-2"}),"Confidentialit\xe9 (GDPR)"]}),(0,s.jsxs)("button",{onClick:()=>x("security"),className:"px-4 py-2 font-semibold border-b-2 ".concat("security"===y?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,s.jsx)(c.A,{className:"w-4 h-4 inline mr-2"}),"S\xe9curit\xe9"]}),(0,s.jsxs)("button",{onClick:()=>x("audit"),className:"px-4 py-2 font-semibold border-b-2 ".concat("audit"===y?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,s.jsx)(d.A,{className:"w-4 h-4 inline mr-2"}),"Audit Logs"]})]}),"privacy"===y&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{children:[(0,s.jsx)(a.ZB,{children:"Droit d'acc\xe8s \xe0 vos donn\xe9es"}),(0,s.jsx)(a.BT,{children:"T\xe9l\xe9chargez une copie de toutes vos donn\xe9es personnelles au format JSON"})]}),(0,s.jsxs)(a.Wu,{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Conform\xe9ment au RGPD (Article 15), vous avez le droit d'acc\xe9der \xe0 toutes vos donn\xe9es personnelles stock\xe9es dans notre application."}),(0,s.jsxs)(i.Button,{onClick:k,disabled:w,className:"bg-blue-600 hover:bg-blue-700",children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"T\xe9l\xe9charger mes donn\xe9es"]})]})]}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{children:[(0,s.jsx)(a.ZB,{className:"text-red-600",children:"Droit \xe0 l'oubli"}),(0,s.jsx)(a.BT,{children:"Supprimez d\xe9finitivement toutes vos donn\xe9es personnelles"})]}),(0,s.jsxs)(a.Wu,{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded p-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(p,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"text-sm text-red-800",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Attention"}),(0,s.jsx)("p",{children:"Cette action est irr\xe9versible. Toutes vos donn\xe9es seront supprim\xe9es d\xe9finitivement."})]})]})}),f?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Pour confirmer la suppression, entrez le code: ",(0,s.jsx)("strong",{children:"DELETE_ALL_DATA_CONFIRM"})]}),(0,s.jsx)("input",{type:"text",placeholder:"Entrez le code de confirmation...",value:S,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i.Button,{onClick:D,disabled:w||"DELETE_ALL_DATA_CONFIRM"!==S,variant:"destructive",children:"Confirmer la suppression"}),(0,s.jsx)(i.Button,{onClick:()=>{v(!1),b("")},variant:"outline",children:"Annuler"})]})]}):(0,s.jsxs)(i.Button,{onClick:()=>v(!0),variant:"destructive",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Supprimer toutes mes donn\xe9es"]})]})]}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{children:[(0,s.jsx)(a.ZB,{children:"Portabilit\xe9 des donn\xe9es"}),(0,s.jsx)(a.BT,{children:"Transf\xe9rez vos donn\xe9es vers un autre service"})]}),(0,s.jsxs)(a.Wu,{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Vous pouvez \xe0 tout moment demander le transfert de vos donn\xe9es vers un autre service compatible."}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Contactez-nous: privacy@app-gestionnaire.com"})]})]})]}),"security"===y&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(a.Zp,{children:[(0,s.jsx)(a.aR,{children:(0,s.jsx)(a.ZB,{children:"\xc9tat de la s\xe9curit\xe9"})}),(0,s.jsx)(a.Wu,{className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded border border-green-200",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"✓ Chiffrement des donn\xe9es"}),(0,s.jsx)("span",{className:"text-xs bg-green-600 text-white px-2 py-1 rounded",children:"AES-256"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded border border-green-200",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"✓ HTTPS obligatoire"}),(0,s.jsx)("span",{className:"text-xs bg-green-600 text-white px-2 py-1 rounded",children:"Actif"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded border border-green-200",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"✓ Authentification"}),(0,s.jsx)("span",{className:"text-xs bg-green-600 text-white px-2 py-1 rounded",children:"JWT"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded border border-yellow-200",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"⚠ 2FA"}),(0,s.jsx)("span",{className:"text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:"Optionnel"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded border border-blue-200",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"ℹ Politique CSP"}),(0,s.jsx)("span",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded",children:"Activ\xe9e"})]})]})})]}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsx)(a.aR,{children:(0,s.jsx)(a.ZB,{children:"Meilleures pratiques"})}),(0,s.jsx)(a.Wu,{className:"space-y-3",children:(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,s.jsx)("li",{children:"✓ Ne partagez jamais votre mot de passe"}),(0,s.jsx)("li",{children:"✓ Utilisez un mot de passe fort (12+ caract\xe8res, majuscules, minuscules, chiffres, symboles)"}),(0,s.jsx)("li",{children:"✓ Connectez-vous depuis un appareil s\xe9curis\xe9"}),(0,s.jsx)("li",{children:"✓ T\xe9l\xe9chargez r\xe9guli\xe8rement vos donn\xe9es"}),(0,s.jsx)("li",{children:"✓ V\xe9rifiez les logs d'activit\xe9 r\xe9guli\xe8rement"}),(0,s.jsx)("li",{children:"✓ Signalez les activit\xe9s suspectes"})]})})]})]}),"audit"===y&&(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{children:[(0,s.jsx)(a.ZB,{children:"Logs d'audit"}),(0,s.jsx)(a.BT,{children:"Toutes les actions effectu\xe9es sur votre compte"})]}),(0,s.jsx)(a.Wu,{children:0===B.length?(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Aucun log d'audit disponible"}):(0,s.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:B.map((e,t)=>(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded border border-gray-200 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:e.action}),(0,s.jsx)("p",{className:"text-gray-600 text-xs mt-1",children:e.userId})]}),(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:new Date(e.timestamp).toLocaleString("fr-FR")})]}),e.details&&(0,s.jsx)("div",{className:"mt-2 text-xs text-gray-600",children:(0,s.jsxs)("details",{children:[(0,s.jsx)("summary",{className:"cursor-pointer hover:text-gray-900",children:"D\xe9tails"}),(0,s.jsx)("pre",{className:"mt-1 p-2 bg-gray-100 rounded overflow-x-auto",children:JSON.stringify(e.details,null,2)})]})})]},t))})})]})]})},x="force-dynamic";function f(){return(0,s.jsx)(y,{})}},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(2821),n=r(75889);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}},83101:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var s=r(2821);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=s.$,i=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],s=null==o?void 0:o[e];if(null===t)return null;let a=n(t)||n(s);return i[e][a]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return a(e,l,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...c}[t]):({...o,...c})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var s=r(95155),n=r(12115),a=r(64269);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight text-primary",r),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},91959:(e,t,r)=>{"use strict";r.d(t,{Bu:()=>o,LC:()=>i,SB:()=>l});var s=r(60316),n=r.n(s),a=r(87358);class i{static encrypt(e){try{let t=JSON.stringify(e);return n().AES.encrypt(t,this.ENCRYPTION_KEY).toString()}catch(e){throw console.error("Erreur de chiffrement:",e),Error("Impossible de chiffrer les donn\xe9es")}}static decrypt(e){try{let t=n().AES.decrypt(e,this.ENCRYPTION_KEY).toString(n().enc.Utf8);return JSON.parse(t)}catch(e){throw console.error("Erreur de d\xe9chiffrement:",e),Error("Impossible de d\xe9chiffrer les donn\xe9es")}}static hashPassword(e){return n().PBKDF2(e,this.ENCRYPTION_KEY,{keySize:8,iterations:6e5}).toString()}static verifyPassword(e,t){return this.hashPassword(e)===t}static generateSecureKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=new Uint8Array(e);return crypto.getRandomValues(t),Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}static createToken(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,r=btoa(JSON.stringify({alg:"HS256",typ:"JWT"})),s=btoa(JSON.stringify({...e,iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600*t})),a=n().HmacSHA256("".concat(r,".").concat(s),this.ENCRYPTION_KEY).toString();return"".concat(r,".").concat(s,".").concat(a)}static verifyToken(e){try{let t=e.split(".");if(3!==t.length)throw Error("Token invalide");let[r,s,a]=t,i=n().HmacSHA256("".concat(r,".").concat(s),this.ENCRYPTION_KEY).toString();if(a!==i)throw Error("Signature invalide");let o=JSON.parse(atob(s));if(o.exp<Math.floor(Date.now()/1e3))throw Error("Token expir\xe9");return o}catch(e){throw console.error("Erreur de v\xe9rification du token:",e),Error("Token invalide")}}static validateEmail(e){if("string"!=typeof e)return!1;let t=e.trim();return!!t&&/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(t)}static validatePassword(e){if("string"!=typeof e)return!1;let t=e.trim();if(t.length<8)return!1;let r=/[A-Za-z]/.test(t),s=/\d/.test(t);return r&&s}static sanitize(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}static maskSensitiveData(e){let t={...e};return["password","email","phone","ssn","creditCard"].forEach(e=>{t[e]&&(t[e]="***MASKED***")}),t}}i.ENCRYPTION_KEY=a.env.NEXT_PUBLIC_ENCRYPTION_KEY||"fallback-key-256-bit-change-in-production";class o{static setItem(e,t){try{let r=i.encrypt(t);localStorage.setItem(e,r)}catch(t){console.error("Erreur lors de la sauvegarde de ".concat(e,":"),t)}}static getItem(e){try{let t=localStorage.getItem(e);if(!t)return null;return i.decrypt(t)}catch(t){return console.error("Erreur lors de la lecture de ".concat(e,":"),t),null}}static removeItem(e){localStorage.removeItem(e)}static clear(){localStorage.clear()}}class l{static getInstance(){return this.instance||(this.instance=new l),this.instance}log(e,t,r){l.log(e,null!=r?r:"local-user",t)}static log(e,t,r){let s="string"==typeof t&&void 0!==r,n=s?r:t,a={timestamp:new Date().toISOString(),action:e,userId:s?t:"local-user",details:i.maskSensitiveData(null!=n?n:{}),ipAddress:"client-side",userAgent:"undefined"!=typeof navigator?navigator.userAgent:"server-side"};try{let e=o.getItem(this.STORAGE_KEY)||[];e.push(a),e.length>1e3&&e.shift(),o.setItem(this.STORAGE_KEY,e)}catch(e){console.error("Erreur lors de l'audit logging:",e)}}static getLogs(){return o.getItem(this.STORAGE_KEY)||[]}static clearLogs(){o.removeItem(this.STORAGE_KEY)}}l.STORAGE_KEY="audit_logs",l.instance=null}},e=>{e.O(0,[830,4733,5608,8441,1255,7358],()=>e(e.s=32458)),_N_E=e.O()}]);