(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2768],{3998:(e,t,s)=>{"use strict";s.d(t,{Button:()=>c,r:()=>o});var a=s(95155),r=s(12115),n=s(17129),l=s(83101),i=s(92033),d=s(64269);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:c=!1,loading:u=!1,loadingText:m="Patientez...",children:h,...f}=e,p=c?n.DX:"button",x=u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"mr-2 h-4 w-4 animate-spin"}),m]}):(0,a.jsx)(a.Fragment,{children:h});return(0,a.jsx)(p,{className:(0,d.cn)(o({variant:r,size:l,className:s})),ref:t,disabled:u,"aria-busy":u,...f,children:c?h:x})});c.displayName="Button"},6447:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(95155),r=s(12115),n=s(3998),l=s(92033),i=s(58772),d=s(15894),o=s(10960);function c(e){let{type:t,getPayload:s,save:c,disabled:u,label:m}=e,{toast:h}=(0,d.dj)(),[f,p]=r.useState(!1),x=async()=>{if(!u){p(!0);try{c&&await c();let e=s?s():{};if(!(await (0,o.e)("/api/publisher-app/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,payload:e,notify:!0})})).ok)throw Error("Impossible de cr\xe9er le job de synchronisation");h({title:"Enregistr\xe9 et envoy\xe9",description:"Le job a bien \xe9t\xe9 cr\xe9\xe9 pour Publisher App."})}catch(e){console.error("link-to-publisher error",e),h({title:"Erreur",description:(null==e?void 0:e.message)||"Envoi impossible",variant:"destructive"})}finally{p(!1)}}};return(0,a.jsxs)(n.Button,{onClick:x,disabled:u||f,className:"bg-sky-600 hover:bg-sky-700 text-white",children:[f?(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(i.A,{className:"mr-2 h-4 w-4"}),null!=m?m:"Enregistrer & Envoyer vers Publisher App"]})}},6943:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14294).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},10960:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});var a=s(92475),r=s.n(a),n=s(2837),l=s.n(n);let i=async function(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(()=>{let e="desktop-main",t="38Z14BPvnYp9BfZ3eSE6T_otZRgfV4Vo";return e&&t?{deviceId:e,apiKey:t}:null})();if(!a)return console.warn("publisherSyncFetch: missing NEXT_PUBLIC_PUBLISHER_SYNC_DEVICE_*. Sending request without auth headers."),fetch(e,s);let{deviceId:n,apiKey:i}=a,d=new URL(e,window.location.origin),o=Date.now().toString(),{signature:c}=((e,t,s,a)=>{let n=r()(a).toString(),i="".concat(e.toUpperCase(),"\n").concat(t,"\n").concat(s),d=l()(i,n).toString();return{hashedKey:n,signature:d}})(null!=(t=s.method)?t:"GET","".concat(d.pathname).concat(d.search),o,i),u=new Headers(s.headers);return u.set("X-Device-Id",n),u.set("X-Api-Key",i),u.set("X-Timestamp",o),u.set("X-Signature",c),fetch(e,{...s,headers:u})}},11186:(e,t,s)=>{"use strict";s.d(t,{bq:()=>m,eb:()=>x,gC:()=>p,l6:()=>c,yv:()=>u});var a=s(95155),r=s(12115),n=s(4729),l=s(59007),i=s(42614),d=s(72251),o=s(64269);let c=n.bL;n.YJ;let u=n.WT,m=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(n.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.l9.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=n.PP.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});f.displayName=n.wn.displayName;let p=r.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...i}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,a.jsx)(h,{}),(0,a.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(f,{})]})})});p.displayName=n.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=n.JU.displayName;let x=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(n.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(n.p4,{children:r})]})});x.displayName=n.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=n.wv.displayName},11740:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a=s(95155),r=s(12115),n=s(20063),l=s(86948),i=s(3998),d=s(65142),o=s(76444),c=s(73457);let u=(0,s(14294).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var m=s(13630),h=s(6943),f=s(27314),p=s(61270),x=s(18155),b=s(26615),g=s(46767),j=s(87270),y=s(11186),v=s(50425),N=s(6447),w=s(51834);function k(){let{isLoaded:e,people:t}=(0,v.d)(),s=(0,n.useRouter)(),[k,C]=(0,r.useState)((()=>{let e=[],t=new Date(2025,9,27);for(let s=0;s<24;s++){let a=new Date(t);a.setDate(a.getDate()+7*s);let r=new Date(a);r.setDate(r.getDate()+6);let n=a.toLocaleString("fr-FR",{month:"long",year:"numeric"}),l=r.toLocaleString("fr-FR",{month:"long"}),i=n===l?"".concat(n," ").concat(String(a.getDate()).padStart(2,"0"),"-").concat(String(r.getDate()).padStart(2,"0")):"".concat(n.split(" ")[0]," ").concat(String(a.getDate()).padStart(2,"0"),"-").concat(l," ").concat(String(r.getDate()).padStart(2,"0")),d=a.toDateString()===t.toDateString();e.push({id:"week-".concat(s),dateRange:i,maintenance:"",lawn:"",isCurrentWeek:d})}return e})()),[S,A]=(0,r.useState)(k[2]),[R,E]=(0,r.useState)("weekly"),[D,T]=(0,r.useState)(null),[_,I]=(0,r.useState)("personne"),[P,L]=(0,r.useState)(!1),[B,O]=(0,r.useState)({maintenanceChecks:[!1,!1],lawnChecks:[!1,!1],weeks:4}),[z,M]=(0,r.useState)({field2:"",field3:"",field5:"",field6:""}),F=(null==S?void 0:S.dateRange)||"";return e?(0,a.jsx)(g.Bc,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(y.l6,{value:R,onValueChange:E,children:[(0,a.jsx)(y.bq,{className:"w-[200px]",children:(0,a.jsx)(y.yv,{placeholder:"Attribuer par semaine"})}),(0,a.jsxs)(y.gC,{children:[(0,a.jsx)(y.eb,{value:"weekly",children:"Attribuer par semaine"}),(0,a.jsx)(y.eb,{value:"monthly",children:"Attribuer par mois"})]})]}),(0,a.jsxs)(g.m_,{children:[(0,a.jsx)(g.k$,{asChild:!0,children:(0,a.jsx)(i.Button,{size:"icon",variant:"outline",onClick:()=>L(!0),children:(0,a.jsx)(u,{className:"w-4 h-4"})})}),(0,a.jsx)(g.ZI,{children:"Saisie automatique"})]}),(0,a.jsxs)(g.m_,{children:[(0,a.jsx)(g.k$,{asChild:!0,children:(0,a.jsx)(i.Button,{size:"icon",variant:"outline",children:(0,a.jsx)(m.A,{className:"w-4 h-4"})})}),(0,a.jsx)(g.ZI,{children:"Effacer"})]})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:F}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(g.m_,{children:[(0,a.jsx)(g.k$,{asChild:!0,children:(0,a.jsx)(i.Button,{size:"icon",variant:"outline",onClick:()=>s.push("/groupes-familles?tab=groupes"),children:(0,a.jsx)(h.A,{className:"w-4 h-4"})})}),(0,a.jsx)(g.ZI,{children:"Groupes"})]}),(0,a.jsxs)(g.m_,{children:[(0,a.jsx)(g.k$,{asChild:!0,children:(0,a.jsx)(i.Button,{size:"icon",variant:"outline",children:(0,a.jsx)(f.A,{className:"w-4 h-4"})})}),(0,a.jsx)(g.ZI,{children:"Utilisateur"})]}),(0,a.jsx)(N.A,{type:"services",label:"Enregistrer & Envoyer",getPayload:()=>{let e=new Date().toISOString(),t=Object.values(z).filter(Boolean),s=t.length?t.map(t=>({date:e,service:"entretien_espaces_verts",users:[t]})):[];return{generatedAt:e,weeks:k,selectedWeek:S,selectedPersons:z,items:s}},save:()=>localStorage.setItem("programme-entretien-espaces-verts",JSON.stringify({weeks:k,selectedWeek:S,selectedPersons:z,savedAt:new Date().toISOString()}))}),(0,a.jsxs)(g.m_,{children:[(0,a.jsx)(g.k$,{asChild:!0,children:(0,a.jsx)(i.Button,{size:"icon",variant:"outline",children:(0,a.jsx)(p.A,{className:"w-4 h-4"})})}),(0,a.jsx)(g.ZI,{children:"Verrouiller"})]}),(0,a.jsxs)(g.m_,{children:[(0,a.jsx)(g.k$,{asChild:!0,children:(0,a.jsx)(i.Button,{size:"icon",variant:"outline",children:(0,a.jsx)(x.A,{className:"w-4 h-4"})})}),(0,a.jsx)(g.ZI,{children:"Aide"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-6 gap-3",children:[(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)(d.p,{placeholder:"Entretien espaces verts",className:"bg-yellow-100"})}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)(i.Button,{variant:"outline",className:"w-full bg-yellow-100 h-10 justify-start text-left",onClick:()=>T("field2"),children:z.field2||"S\xe9lectionner"})}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)(i.Button,{variant:"outline",className:"w-full bg-yellow-100 h-10 justify-start text-left",onClick:()=>T("field3"),children:z.field3||"S\xe9lectionner"})}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)(d.p,{placeholder:"Pelouse",className:"bg-yellow-100"})}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)(i.Button,{variant:"outline",className:"w-full bg-yellow-100 h-10 justify-start text-left",onClick:()=>T("field5"),children:z.field5||"S\xe9lectionner"})}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)(i.Button,{variant:"outline",className:"w-full bg-yellow-100 h-10 justify-start text-left",onClick:()=>T("field6"),children:z.field6||"S\xe9lectionner"})})]}),(0,a.jsx)(w.lG,{open:null!==D,onOpenChange:e=>!e&&T(null),children:(0,a.jsxs)(w.Cf,{className:"max-w-2xl max-h-96",children:[(0,a.jsxs)(w.c7,{className:"bg-blue-500 text-white -mx-6 -mt-6 px-6 py-3 flex flex-row items-center justify-between",children:[(0,a.jsx)(w.L3,{className:"text-white",children:"Entretien espaces verts"}),(0,a.jsx)("button",{onClick:()=>T(null),className:"text-white",children:(0,a.jsx)(b.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(y.l6,{value:_,onValueChange:I,children:[(0,a.jsx)(y.bq,{children:(0,a.jsx)(y.yv,{placeholder:"Personne"})}),(0,a.jsxs)(y.gC,{children:[(0,a.jsx)(y.eb,{value:"personne",children:"Personne"}),(0,a.jsx)(y.eb,{value:"groupe-predication",children:"Groupe de pr\xe9dication"}),(0,a.jsx)(y.eb,{value:"autre-groupe",children:"Autre groupe"}),(0,a.jsx)(y.eb,{value:"assemblee-voisine",children:"Assembl\xe9e voisine"}),(0,a.jsx)(y.eb,{value:"mon-assemblee",children:"Mon assembl\xe9e"})]})]}),(0,a.jsx)("div",{className:"border rounded overflow-y-auto max-h-64",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-100 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-2 border-b font-semibold",children:"Nom"}),(0,a.jsx)("th",{className:"text-left p-2 border-b font-semibold",children:"R\xe9cent(e)"})]})}),(0,a.jsx)("tbody",{children:("personne"===_?t.filter(e=>{var t,s,a,r;return(null==(s=e.assignments)||null==(t=s.cleaning)?void 0:t.greenSpaces)||(null==(r=e.assignments)||null==(a=r.cleaning)?void 0:a.lawn)}):t).map(e=>(0,a.jsxs)("tr",{className:"hover:bg-blue-50 cursor-pointer border-b",children:[(0,a.jsxs)("td",{className:"p-2",onClick:()=>{let t="".concat(e.lastName,", ").concat(e.firstName);M(e=>({...e,[D||""]:t})),T(null)},children:[e.lastName,", ",e.firstName]}),(0,a.jsx)("td",{className:"p-2"})]},e.id))})]})})]}),(0,a.jsxs)(w.Es,{className:"flex gap-2 justify-end",children:[(0,a.jsx)(i.Button,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>T(null),children:"✓ OK"}),(0,a.jsx)(i.Button,{variant:"outline",onClick:()=>T(null),className:"bg-red-500 text-white hover:bg-red-600",children:"✗ Annuler"}),(0,a.jsx)(i.Button,{variant:"outline",onClick:()=>{D&&(M(e=>({...e,[D]:""})),T(null))},className:"bg-gray-500 text-white hover:bg-gray-600",children:"\uD83D\uDDD1️ Effacer"})]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{className:"pt-6",children:(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)(j.XI,{children:[(0,a.jsx)(j.A0,{className:"bg-cyan-100",children:(0,a.jsxs)(j.Hj,{className:"border-b-2 border-cyan-500",children:[(0,a.jsx)(j.nd,{className:"border-r-2 border-cyan-500 font-bold text-gray-800",children:"Date"}),(0,a.jsx)(j.nd,{className:"border-r-2 border-cyan-500 font-bold text-gray-800",children:"Entretien espaces verts"}),(0,a.jsx)(j.nd,{className:"font-bold text-gray-800",children:"Pelouse"})]})}),(0,a.jsx)(j.BF,{children:k.map((e,t)=>(0,a.jsxs)(j.Hj,{onClick:()=>{A(e)},className:"cursor-pointer transition-colors border-b border-cyan-200 ".concat((null==S?void 0:S.id)===e.id?"bg-yellow-300 font-semibold":t%2==0?"bg-blue-50 hover:bg-blue-100":"bg-white hover:bg-blue-50"),children:[(0,a.jsx)(j.nA,{className:"border-r-2 border-cyan-500 font-medium",children:e.dateRange}),(0,a.jsx)(j.nA,{className:"border-r-2 border-cyan-500",children:e.maintenance}),(0,a.jsx)(j.nA,{children:e.lawn})]},e.id))})]})})})})})}),(0,a.jsx)(w.lG,{open:P,onOpenChange:L,children:(0,a.jsxs)(w.Cf,{className:"max-w-md",children:[(0,a.jsxs)(w.c7,{className:"bg-cyan-500 text-white -mx-6 -mt-6 px-6 py-3 flex flex-row items-center justify-between",children:[(0,a.jsx)(w.L3,{className:"text-white text-base",children:"Saisie automatique"}),(0,a.jsx)("button",{onClick:()=>L(!1),className:"text-white",children:(0,a.jsx)(b.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Label,{htmlFor:"person-filter",className:"text-sm",children:"Personne"}),(0,a.jsxs)(y.l6,{children:[(0,a.jsx)(y.bq,{id:"person-filter",children:(0,a.jsx)(y.yv,{placeholder:"Personne"})}),(0,a.jsxs)(y.gC,{children:[(0,a.jsx)(y.eb,{value:"personne",children:"Personne"}),(0,a.jsx)(y.eb,{value:"groupe-predication",children:"Groupe de pr\xe9dication"}),(0,a.jsx)(y.eb,{value:"autre-groupe",children:"Autre groupe"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Label,{className:"font-semibold mb-2 block",children:"Entretien espaces verts"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.S,{id:"maint1",checked:B.maintenanceChecks[0],onCheckedChange:e=>O({...B,maintenanceChecks:[e,B.maintenanceChecks[1]]})}),(0,a.jsx)(o.Label,{htmlFor:"maint1",className:"font-normal cursor-pointer",children:"1"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.S,{id:"maint2",checked:B.maintenanceChecks[1],onCheckedChange:e=>O({...B,maintenanceChecks:[B.maintenanceChecks[0],e]})}),(0,a.jsx)(o.Label,{htmlFor:"maint2",className:"font-normal cursor-pointer",children:"2"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Label,{className:"font-semibold mb-2 block",children:"Pelouse"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.S,{id:"lawn1",checked:B.lawnChecks[0],onCheckedChange:e=>O({...B,lawnChecks:[e,B.lawnChecks[1]]})}),(0,a.jsx)(o.Label,{htmlFor:"lawn1",className:"font-normal cursor-pointer",children:"1"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.S,{id:"lawn2",checked:B.lawnChecks[1],onCheckedChange:e=>O({...B,lawnChecks:[B.lawnChecks[0],e]})}),(0,a.jsx)(o.Label,{htmlFor:"lawn2",className:"font-normal cursor-pointer",children:"2"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.Label,{htmlFor:"weeks",className:"text-sm",children:"Semaines"}),(0,a.jsx)(d.p,{id:"weeks",type:"number",value:B.weeks,onChange:e=>O({...B,weeks:parseInt(e.target.value)||4}),min:"1"})]}),(0,a.jsx)("p",{className:"text-sm text-red-600 font-semibold",children:"Cette action va \xe9cras\xe9r tous les futurs services"})]}),(0,a.jsxs)(w.Es,{className:"flex gap-2 justify-end",children:[(0,a.jsx)(i.Button,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>L(!1),children:"⭐ Saisie automatique"}),(0,a.jsx)(i.Button,{variant:"outline",onClick:()=>L(!1),className:"bg-red-500 text-white hover:bg-red-600",children:"✗ Annuler"})]})]})})]})}):(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("p",{className:"text-lg text-muted-foreground",children:"Chargement des donn\xe9es..."})})}},15894:(e,t,s)=>{"use strict";s.d(t,{dj:()=>u});var a=s(12115);let r=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=[],d={toasts:[]};function o(e){d=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(d,e),i.forEach(e=>{e(d)})}function c(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=a.useState(d);return a.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},18155:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14294).A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},27314:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14294).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},38162:(e,t,s)=>{"use strict";s.d(t,{C1:()=>C,bL:()=>k});var a=s(12115),r=s(94446),n=s(3468),l=s(92556),i=s(23558),d=s(78108),o=s(84288),c=s(76842),u=s(88142),m=s(95155),h="Checkbox",[f,p]=(0,n.A)(h),[x,b]=f(h),g=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:n,checked:d,defaultChecked:o,required:c,disabled:h,value:f="on",onCheckedChange:p,form:b,...g}=e,[j,y]=a.useState(null),k=(0,r.s)(t,e=>y(e)),C=a.useRef(!1),S=!j||b||!!j.closest("form"),[A=!1,R]=(0,i.i)({prop:d,defaultProp:o,onChange:p}),E=a.useRef(A);return a.useEffect(()=>{let e=null==j?void 0:j.form;if(e){let t=()=>R(E.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[j,R]),(0,m.jsxs)(x,{scope:s,state:A,disabled:h,children:[(0,m.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":N(A)?"mixed":A,"aria-required":c,"data-state":w(A),"data-disabled":h?"":void 0,disabled:h,value:f,...g,ref:k,onKeyDown:(0,l.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.m)(e.onClick,e=>{R(e=>!!N(e)||!e),S&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),S&&(0,m.jsx)(v,{control:j,bubbles:!C.current,name:n,value:f,checked:A,required:c,disabled:h,form:b,style:{transform:"translateX(-100%)"},defaultChecked:!N(o)&&o})]})});g.displayName=h;var j="CheckboxIndicator",y=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...r}=e,n=b(j,s);return(0,m.jsx)(c.C,{present:a||N(n.state)||!0===n.state,children:(0,m.jsx)(u.sG.span,{"data-state":w(n.state),"data-disabled":n.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});y.displayName=j;var v=e=>{let{control:t,checked:s,bubbles:r=!0,defaultChecked:n,...l}=e,i=a.useRef(null),c=(0,d.Z)(s),u=(0,o.X)(t);a.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==s&&t){let a=new Event("click",{bubbles:r});e.indeterminate=N(s),t.call(e,!N(s)&&s),e.dispatchEvent(a)}},[c,s,r]);let h=a.useRef(!N(s)&&s);return(0,m.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:null!=n?n:h.current,...l,tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function N(e){return"indeterminate"===e}function w(e){return N(e)?"indeterminate":e?"checked":"unchecked"}var k=g,C=y},46767:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>i,ZI:()=>c,k$:()=>o,m_:()=>d});var a=s(95155),r=s(12115),n=s(26852),l=s(64269);let i=n.Kq,d=n.bL,o=n.l9,c=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...i}=e;return(0,a.jsx)(n.UC,{ref:t,sideOffset:r,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})});c.displayName=n.UC.displayName},50477:()=>{},51834:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>h,Es:()=>p,HM:()=>u,L3:()=>x,c7:()=>f,lG:()=>d,rr:()=>b,zM:()=>o});var a=s(95155),r=s(12115),n=s(93409),l=s(26615),i=s(64269);let d=n.bL,o=n.l9,c=n.ZL,u=n.bm,m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});m.displayName=n.hJ.displayName;let h=r.forwardRef((e,t)=>{let{className:s,children:r,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(n.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...d,children:[r,(0,a.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=n.UC.displayName;let f=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};f.displayName="DialogHeader";let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};p.displayName="DialogFooter";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});x.displayName=n.hE.displayName;let b=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});b.displayName=n.VY.displayName},58772:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14294).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},61270:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14294).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},65142:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var a=s(95155),r=s(12115),n=s(64269);let l=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:ring-yellow-400/30 focus-visible:border-yellow-400",s),ref:t,...l})});l.displayName="Input"},73457:(e,t,s)=>{"use strict";s.d(t,{S:()=>d});var a=s(95155),r=s(12115),n=s(38162),l=s(72251),i=s(64269);let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.bL,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground","accent-amber-500","data-[state=checked]:bg-amber-500 data-[state=checked]:border-amber-500",s),...r,children:(0,a.jsx)(n.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})})});d.displayName=n.bL.displayName},76444:(e,t,s)=>{"use strict";s.d(t,{Label:()=>o});var a=s(95155),r=s(12115),n=s(10489),l=s(83101),i=s(64269);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,i.cn)(d(),s),...r})});o.displayName=n.b.displayName},86948:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>i,wL:()=>u});var a=s(95155),r=s(12115),n=s(64269);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight text-primary",s),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},87270:(e,t,s)=>{"use strict";s.d(t,{A0:()=>i,BF:()=>d,Hj:()=>o,XI:()=>l,nA:()=>u,nd:()=>c});var a=s(95155),r=s(12115),n=s(64269);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...r})})});l.displayName="Table";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",s),...r})});i.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...r})});d.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});o.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});c.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},87510:(e,t,s)=>{Promise.resolve().then(s.bind(s,11740))}},e=>{e.O(0,[830,3928,5502,4733,9823,5063,7941,8441,1255,7358],()=>e(e.s=87510)),_N_E=e.O()}]);