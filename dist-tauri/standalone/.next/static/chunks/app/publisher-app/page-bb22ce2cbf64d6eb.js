(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3819],{2837:function(e,i,s){var r;r=s(16611),s(92475),s(83247),e.exports=r.HmacSHA256},10960:(e,i,s)=>{"use strict";s.d(i,{e:()=>t});var r=s(92475),a=s.n(r),l=s(2837),n=s.n(l);let t=async function(e){var i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(()=>{let e="desktop-main",i="38Z14BPvnYp9BfZ3eSE6T_otZRgfV4Vo";return e&&i?{deviceId:e,apiKey:i}:null})();if(!r)return console.warn("publisherSyncFetch: missing NEXT_PUBLIC_PUBLISHER_SYNC_DEVICE_*. Sending request without auth headers."),fetch(e,s);let{deviceId:l,apiKey:t}=r,o=new URL(e,window.location.origin),c=Date.now().toString(),{signature:d}=((e,i,s,r)=>{let l=a()(r).toString(),t="".concat(e.toUpperCase(),"\n").concat(i,"\n").concat(s),o=n()(t,l).toString();return{hashedKey:l,signature:o}})(null!=(i=s.method)?i:"GET","".concat(o.pathname).concat(o.search),c,t),p=new Headers(s.headers);return p.set("X-Device-Id",l),p.set("X-Api-Key",t),p.set("X-Timestamp",c),p.set("X-Signature",d),fetch(e,{...s,headers:p})}},37024:(e,i,s)=>{"use strict";s.d(i,{C:()=>H});var r=s(8595),a=s(23590),l=s(66065),n=s(18771),t=s(75004),o=s(28127),c=s(5225),d=s(6943),p=s(2484),m=s(1272),u=s(78742),b=s(42997),f=s(50817),h=s(27500),g=s(25212),A=s(79855),v=s(6600),x=s(12813),y=s(60272),N=s(59338),j=s(24467),w=s(44575),C=s(5351),I=s(26541),E=s(42770),P=s(58772),R=s(53489),S=s(24820),_=s(71942),T=s(27314),k=s(74421),M=s(90542),B=s(9573),Z=s(56639),D=s(46181),V=s(4785);let H=[{id:"dashboard",label:"Tableau de bord",icon:r.A,href:"/",isMainItem:!0},{id:"assembly",label:"Assembl\xe9e",icon:a.A,isCollapsible:!0,isMainItem:!0,href:"/assembly",subItems:[{id:"assembly-info",label:"Information de l’assembl\xe9e",icon:l.A,href:"/parametres"},{id:"assembly-sharing",label:"Partage de l’assembl\xe9e",icon:n.A,href:"/partage"},{id:"bulletin-assembly",label:"Tableau d'affichage assembl\xe9e",icon:t.A,href:"/communications?board=assembly"},{id:"bulletin-elders",label:"Tableau d'affichage anciens",icon:t.A,href:"/communications?board=elders"},{id:"bulletin-elders-assistants",label:"Tableau d'affichage anciens et assistants",icon:t.A,href:"/communications?board=elders-assistants"},{id:"events",label:"Ev\xe9nements de l’assembl\xe9e",icon:o.A,href:"/evenements"},{id:"preaching-activity",label:"Activit\xe9 de pr\xe9dication (S-1)",icon:c.A,href:"/activite-predication"},{id:"groups-families",label:"Groupes et familles",icon:d.A,href:"/groupes-familles"},{id:"circuits-speakers",label:"Circonscriptions & Orateurs",icon:p.A,href:"/circonscriptions-orateurs"},{id:"meeting-attendance",label:"Assistance aux r\xe9unions",icon:m.A,href:"/reports"},{id:"responsibilities",label:"Responsabilit\xe9s",icon:u.A,href:"/responsabilites"}]},{id:"personnes",label:"Personnes",icon:d.A,isCollapsible:!0,isMainItem:!0,href:"/personnes",subItems:[{id:"add-person",label:"Ajouter une personne",icon:b.A,href:"/personnes"}]},{id:"programme",label:"Programme",icon:f.A,isCollapsible:!0,isMainItem:!0,href:"/programme",subItems:[{id:"reunion-vie-ministere",label:"R\xe9union Vie et minist\xe8re",icon:h.A,href:"/programme/reunion-vie-ministere"},{id:"besoins-assemblee",label:"Besoins de l’assembl\xe9e",icon:r.A,href:"/programme/besoins-assemblee"},{id:"discours-publics-local",label:"Discours publics - Local",icon:g.A,href:"/programme/discours-publics-local"},{id:"discours-publics-exterieur",label:"Discours publics - Ext\xe9rieur",icon:A.A,href:"/programme/discours-publics-exterieur"},{id:"predication",label:"Pr\xe9dication",icon:v.A,href:"/programme/predication"},{id:"temoignage-public",label:"T\xe9moignage public",icon:x.A,href:"/programme/temoignage-public"},{id:"services",label:"Services",icon:y.A,href:"/programme/services"},{id:"nettoyage",label:"Nettoyage",icon:N.A,href:"/programme/nettoyage"},{id:"entretien-espaces-verts",label:"Entretien des espaces verts",icon:j.A,href:"/programme/entretien-espaces-verts"},{id:"maintenance",label:"Maintenance",icon:w.A,href:"/programme/maintenance"},{id:"visite-responsable-circonscription",label:"Visite du responsable de circonscription",icon:C.A,href:"/programme/visite-responsable-circonscription"}]},{id:"territories",label:"Territoires",icon:I.A,href:"/territories",isMainItem:!0},{id:"publisherApp",label:"Publisher App",icon:E.A,isCollapsible:!0,isMainItem:!0,href:"/publisher-app",subItems:[{id:"send-data",label:"Envoyer les donn\xe9es",icon:P.A,href:"/publisher-app/send-data"},{id:"receive-data",label:"Recevoir les donn\xe9es",icon:R.A,href:"/publisher-app/receive-data"},{id:"users",label:"Utilisateurs",icon:d.A,href:"/publisher-app/users"},{id:"devices",label:"Appareils",icon:E.A,href:"/publisher-app/devices"},{id:"app-settings",label:"Param\xe8tres de l'application",icon:S.A,href:"/publisher-app/settings"},{id:"logs",label:"Journaux",icon:_.A,href:"/publisher-app/logs"}]},{id:"moi",label:"Moi",icon:T.A,isCollapsible:!0,isMainItem:!0,href:"/moi",subItems:[{id:"tasks",label:"T\xe2ches",icon:k.A,href:"/moi/taches"},{id:"subscription",label:"Abonnement",icon:M.A,href:"/moi/abonnement"},{id:"alerts",label:"Voir les alertes",icon:B.A,href:"/moi/alertes"},{id:"my-settings",label:"Param\xe8tres",icon:Z.A,href:"/moi/parametres"},{id:"updates",label:"Mises \xe0 jour",icon:D.A,href:"/moi/mises-a-jour"}]},{id:"logger",label:"Assistant IA",icon:V.A,href:"/logger"}]},50477:()=>{},62286:(e,i,s)=>{Promise.resolve().then(s.bind(s,94786))},64269:(e,i,s)=>{"use strict";s.d(i,{cn:()=>l});var r=s(2821),a=s(75889);function l(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];return(0,a.QP)((0,r.$)(i))}},86948:(e,i,s)=>{"use strict";s.d(i,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>t,wL:()=>p});var r=s(95155),a=s(12115),l=s(64269);let n=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let t=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});t.displayName="CardHeader";let o=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:i,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight text-primary",s),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:i,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,l.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent";let p=a.forwardRef((e,i)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});p.displayName="CardFooter"},94786:(e,i,s)=>{"use strict";s.r(i),s.d(i,{default:()=>d});var r=s(95155),a=s(12115),l=s(52619),n=s.n(l),t=s(86948),o=s(37024),c=s(10960);let d=()=>{let e=o.C.find(e=>"publisherApp"===e.id),i=(null==e?void 0:e.subItems)||[],[s,l]=a.useState(0),[d,p]=a.useState(0);return a.useEffect(()=>{let e=!0,i=async()=>{try{let[i,s]=await Promise.all([(0,c.e)("/api/publisher-app/incoming?status=pending"),(0,c.e)("/api/publisher-app/queue?direction=desktop_to_mobile&status=pending")]),r=i.ok?await i.json():null,a=s.ok?await s.json():null,n=Array.isArray(null==r?void 0:r.jobs)?r.jobs.length:0,t=Array.isArray(null==a?void 0:a.jobs)?a.jobs.length:0;e&&(l(n),p(t))}catch(e){console.error("publisher-app landing badge error",e)}};i();let s=setInterval(i,3e4);return()=>{e=!1,clearInterval(s)}},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Publisher App"}),(0,r.jsx)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(e=>{let i=e.icon,a="send-data"===e.id&&d>0||"receive-data"===e.id&&s>0;return(0,r.jsx)(n(),{href:e.href||"#",className:"group",children:(0,r.jsxs)(t.Zp,{className:"relative h-full hover:bg-accent hover:text-accent-foreground transition-colors duration-200",children:[a&&(0,r.jsx)("div",{className:"absolute right-3 top-3",children:(0,r.jsxs)("span",{className:"flex h-3 w-3",children:[(0,r.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,r.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})}),(0,r.jsxs)(t.aR,{className:"flex flex-col items-center justify-center text-center p-6",children:[(0,r.jsx)(i,{className:"h-10 w-10 mb-4 text-primary group-hover:text-accent-foreground"}),(0,r.jsx)(t.ZB,{className:"text-lg",children:e.label})]})]})},e.id)})})]})}}},e=>{e.O(0,[830,4733,2619,227,8441,1255,7358],()=>e(e.s=62286)),_N_E=e.O()}]);