(()=>{var e={};e.id=374,e.ids=[374],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},775:(e,t,r)=>{try{var n=r(28354);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(35554)}},1708:e=>{"use strict";e.exports=require("node:process")},1833:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},4885:(e,t,r)=>{var n=r(12412),i=r(5415)("stream-parser");function s(e){i("initializing parser stream"),e._parserBytesLeft=0,e._parserBuffers=[],e._parserBuffered=0,e._parserState=-1,e._parserCallback=null,"function"==typeof e.push&&(e._parserOutput=e.push.bind(e)),e._parserInit=!0}function a(e,t){n(!this._parserCallback,'there is already a "callback" set!'),n(isFinite(e)&&e>0,'can only buffer a finite number of bytes > 0, got "'+e+'"'),this._parserInit||s(this),i("buffering %o bytes",e),this._parserBytesLeft=e,this._parserCallback=t,this._parserState=0}function o(e,t){n(!this._parserCallback,'there is already a "callback" set!'),n(e>0,'can only skip > 0 bytes, got "'+e+'"'),this._parserInit||s(this),i("skipping %o bytes",e),this._parserBytesLeft=e,this._parserCallback=t,this._parserState=1}function l(e,t){n(!this._parserCallback,'There is already a "callback" set!'),n(e>0,'can only pass through > 0 bytes, got "'+e+'"'),this._parserInit||s(this),i("passing through %o bytes",e),this._parserBytesLeft=e,this._parserCallback=t,this._parserState=2}function c(e,t,r){this._parserInit||s(this),i("write(%o bytes)",e.length),"function"==typeof t&&(r=t),f(this,e,null,r)}function d(e,t,r){this._parserInit||s(this),i("transform(%o bytes)",e.length),"function"!=typeof t&&(t=this._parserOutput),f(this,e,t,r)}function u(e,t,r,n){if(e._parserBytesLeft-=t.length,i("%o bytes left for stream piece",e._parserBytesLeft),0===e._parserState?(e._parserBuffers.push(t),e._parserBuffered+=t.length):2===e._parserState&&r(t),0!==e._parserBytesLeft)return n;var s=e._parserCallback;if(s&&0===e._parserState&&e._parserBuffers.length>1&&(t=Buffer.concat(e._parserBuffers,e._parserBuffered)),0!==e._parserState&&(t=null),e._parserCallback=null,e._parserBuffered=0,e._parserState=-1,e._parserBuffers.splice(0),s){var a=[];t&&a.push(t),r&&a.push(r);var o=s.length>a.length;o&&a.push(h(n));var l=s.apply(e,a);if(!o||n===l)return n}}e.exports=function(e){var t=e&&"function"==typeof e._transform,r=e&&"function"==typeof e._write;if(!t&&!r)throw Error("must pass a Writable or Transform stream in");i("extending Parser into stream"),e._bytes=a,e._skipBytes=o,t&&(e._passthrough=l),t?e._transform=d:e._write=c};var f=h(function e(t,r,n,i){return t._parserBytesLeft<=0?i(Error("got data but not currently parsing anything")):r.length<=t._parserBytesLeft?function(){return u(t,r,n,i)}:function(){var s=r.slice(0,t._parserBytesLeft);return u(t,s,n,function(a){return a?i(a):r.length>s.length?function(){return e(t,r.slice(s.length),n,i)}:void 0})}});function h(e){return function(){for(var t=e.apply(this,arguments);"function"==typeof t;)t=t();return t}}},5415:(e,t,r)=>{"undefined"!=typeof process&&"renderer"===process.type?e.exports=r(8983):e.exports=r(82493)},6211:(e,t,r)=>{"use strict";r.d(t,{A0:()=>o,BF:()=>l,Hj:()=>c,XI:()=>a,nA:()=>u,nd:()=>d});var n=r(60687),i=r(43210),s=r(4780);let a=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:r,className:(0,s.cn)("w-full caption-bottom text-sm",e),...t})}));a.displayName="Table";let o=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("thead",{ref:r,className:(0,s.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let l=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("tbody",{ref:r,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...t}));l.displayName="TableBody",i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("tfoot",{ref:r,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let c=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("tr",{ref:r,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));c.displayName="TableRow";let d=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("th",{ref:r,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));d.displayName="TableHead";let u=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("td",{ref:r,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("caption",{ref:r,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},7252:e=>{"use strict";e.exports=require("express")},7282:(e,t,r)=>{e.exports=o;var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},i=r(77974);i.inherits=r(775);var s=r(61944),a=r(88500);function o(e){if(!(this instanceof o))return new o(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}i.inherits(o,s),function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(n(a.prototype),function(e){o.prototype[e]||(o.prototype[e]=a.prototype[e])})},8983:(e,t,r)=>{function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(65110)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))}),e.splice(s,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&"renderer"===window.process.type||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},15079:(e,t,r)=>{"use strict";r.d(t,{bq:()=>f,eb:()=>g,gC:()=>m,l6:()=>d,yv:()=>u});var n=r(60687),i=r(43210),s=r(28695),a=r(61662),o=r(89743),l=r(58450),c=r(4780);let d=s.bL;s.YJ;let u=s.WT,f=i.forwardRef(({className:e,children:t,...r},i)=>(0,n.jsxs)(s.l9,{ref:i,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,(0,n.jsx)(s.In,{asChild:!0,children:(0,n.jsx)(a.A,{className:"h-4 w-4 opacity-50"})})]}));f.displayName=s.l9.displayName;let h=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)(s.PP,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,n.jsx)(o.A,{className:"h-4 w-4"})}));h.displayName=s.PP.displayName;let p=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)(s.wn,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,n.jsx)(a.A,{className:"h-4 w-4"})}));p.displayName=s.wn.displayName;let m=i.forwardRef(({className:e,children:t,position:r="popper",...i},a)=>(0,n.jsx)(s.ZL,{children:(0,n.jsxs)(s.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...i,children:[(0,n.jsx)(h,{}),(0,n.jsx)(s.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,n.jsx)(p,{})]})}));m.displayName=s.UC.displayName,i.forwardRef(({className:e,...t},r)=>(0,n.jsx)(s.JU,{ref:r,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=s.JU.displayName;let g=i.forwardRef(({className:e,children:t,...r},i)=>(0,n.jsxs)(s.q7,{ref:i,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(s.VF,{children:(0,n.jsx)(l.A,{className:"h-4 w-4"})})}),(0,n.jsx)(s.p4,{children:t})]}));g.displayName=s.q7.displayName,i.forwardRef(({className:e,...t},r)=>(0,n.jsx)(s.wv,{ref:r,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=s.wv.displayName},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19185:e=>{"use strict";e.exports=require("dgram")},19771:e=>{"use strict";e.exports=require("process")},21266:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Public\\\\Documents\\\\app-gestionnaire\\\\src\\\\app\\\\communications\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\communications\\page.tsx","default")},21605:(e,t,r)=>{var n=r(79428).Buffer,i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},s=t.I=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");if(e&&!i(e))throw Error("Unknown encoding: "+e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=l;break;default:this.write=a;return}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function a(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=2*!!this.charReceived}function l(e){this.charReceived=e.length%3,this.charLength=3*!!this.charReceived}s.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length);var n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1);if(n>=55296&&n<=56319){this.charLength+=this.surrogateSize,t="";continue}if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived);var i=(t+=e.toString(this.encoding,0,i)).length-1,n=t.charCodeAt(i);if(n>=55296&&n<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),e.copy(this.charBuffer,0,0,s),t.substring(0,i)}return t},s.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},s.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},21820:e=>{"use strict";e.exports=require("os")},26373:(e,t,r)=>{"use strict";r.d(t,{V:()=>c});var n=r(60687);r(43210);var i=r(43967),s=r(74158),a=r(94857),o=r(4780),l=r(29523);function c({className:e,classNames:t,showOutsideDays:r=!0,...c}){return(0,n.jsx)(a.hv,{showOutsideDays:r,className:(0,o.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)((0,l.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,o.cn)((0,l.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:e,...t})=>(0,n.jsx)(i.A,{className:(0,o.cn)("h-4 w-4",e),...t}),IconRight:({className:e,...t})=>(0,n.jsx)(s.A,{className:(0,o.cn)("h-4 w-4",e),...t})},...c})}c.displayName="Calendar"},27910:e=>{"use strict";e.exports=require("stream")},28176:e=>{e.exports=function(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative');return Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e)}},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29523:(e,t,r)=>{"use strict";r.d(t,{Button:()=>d,r:()=>c});var n=r(60687),i=r(43210),s=r(11329),a=r(24224),o=r(11516),l=r(4780);let c=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,loading:a=!1,loadingText:d="Patientez...",children:u,...f},h)=>{let p=i?s.DX:"button",m=a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),d]}):(0,n.jsx)(n.Fragment,{children:u});return(0,n.jsx)(p,{className:(0,l.cn)(c({variant:t,size:r,className:e})),ref:h,disabled:a,"aria-busy":a,...f,children:i?u:m})});d.displayName="Button"},33873:e=>{"use strict";e.exports=require("path")},34060:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var n=r(60687),i=r(43210),s=r(29523),a=r(89667),o=r(80013),l=r(15079),c=r(34729),d=r(6211),u=r(44493),f=r(40988),h=r(26373),p=r(26622),m=r(54052),g=r(57207),b=r(83729),y=r(89743),v=r(61662),x=r(11516),w=r(1833),_=r(75699),k=r(4780),j=r(6475);let S=(0,j.createServerReference)("4038aefe2208d263865916b98ef2f966c82930513e",j.callServer,void 0,j.findSourceMapURL,"textToSpeech");var z=r(29867),C=r(96834);let N=({date:e,setDate:t})=>(0,n.jsxs)(f.AM,{children:[(0,n.jsx)(f.Wv,{asChild:!0,children:(0,n.jsxs)(s.Button,{variant:"outline",className:(0,k.cn)("w-[130px] justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[(0,n.jsx)(p.A,{className:"mr-2 h-4 w-4"}),e?(0,_.GP)(e,"yyyy/MM/dd"):(0,n.jsx)("span",{children:"Pick a date"})]})}),(0,n.jsx)(f.hl,{className:"w-auto p-0",children:(0,n.jsx)(h.V,{mode:"single",selected:e,onSelect:e=>e&&t(e),initialFocus:!0})})]});function E(){let[e,t]=i.useState([]),[r,f]=i.useState(null),h=i.useRef(null),{toast:p}=(0,z.dj)(),[j,E]=i.useState({}),A=e=>{f(e)},R=(e,n)=>{r&&t(t=>t.map(t=>t.id===r?{...t,[e]:n}:t))},M=n=>{if(!r)return;let i=e.findIndex(e=>e.id===r);if(-1===i)return;let s="up"===n?i-1:i+1;if(s<0||s>=e.length)return;let a=[...e],o=a[i];a[i]=a[s],a[s]=o,a.forEach((e,t)=>e.order=t+1),t(a),p({description:`Communication d\xe9plac\xe9e.`})},I=async e=>{if(e.content){E(t=>({...t,[e.id]:{loading:!0,data:null}}));try{let t=await S(e.content);t?.media&&(E(r=>({...r,[e.id]:{loading:!1,data:t.media}})),p({title:"Audio g\xe9n\xe9r\xe9",description:"La lecture audio est pr\xeate."}))}catch(t){console.error("Error generating speech:",t),E(t=>({...t,[e.id]:{loading:!1,data:null}})),p({title:"Erreur audio",description:"Impossible de g\xe9n\xe9rer l'audio.",variant:"destructive"})}}},D=e.find(e=>e.id===r);return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Tableau d'affichage"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"C'est ici que les admin doivent mettre les communiqu\xe9s et d'autres informations qui vont s'afficher dans l'application des utilisateurs"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(s.Button,{onClick:()=>{let r={id:`comm-${Date.now()}`,title:"<Communication>",type:"communication",displayAfter:new Date,displayAfterTime:"09:30",expirationDate:new Date,attachment:null,link:"",content:"",order:e.length+1};t(e=>[...e,r]),f(r.id),p({title:"Nouvelle communication cr\xe9\xe9e."})},children:[(0,n.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Nouveau"]}),(0,n.jsxs)(s.Button,{variant:"destructive",onClick:()=>{if(r){let n=e.find(e=>e.id===r);t(e=>e.filter(e=>e.id!==r)),f(null),p({title:`Communication "${n?.title}" supprim\xe9e.`,variant:"destructive"})}},disabled:!r,children:[(0,n.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,n.jsx)(u.Zp,{children:(0,n.jsxs)(u.Wu,{className:"p-4 space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-[120px_1fr] items-center gap-4",children:[(0,n.jsx)(o.Label,{htmlFor:"title",children:"Titre"}),(0,n.jsx)(a.p,{id:"title",value:D?.title||"",onChange:e=>R("title",e.target.value),disabled:!D})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[120px_1fr] items-center gap-4",children:[(0,n.jsx)(o.Label,{children:"Type"}),(0,n.jsxs)(l.l6,{value:D?.type,onValueChange:e=>R("type",e),disabled:!D,children:[(0,n.jsx)(l.bq,{children:(0,n.jsx)(l.yv,{placeholder:"S\xe9lectionner un type"})}),(0,n.jsxs)(l.gC,{children:[(0,n.jsx)(l.eb,{value:"communication",children:"Communication"}),(0,n.jsx)(l.eb,{value:"document",children:"Document"}),(0,n.jsx)(l.eb,{value:"lettre",children:"Lettre"})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[120px_1fr] items-center gap-4",children:[(0,n.jsx)(o.Label,{children:"Afficher apr\xe8s"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[D?(0,n.jsx)(N,{date:D.displayAfter,setDate:e=>R("displayAfter",e)}):(0,n.jsx)(N,{date:new Date,setDate:()=>{}}),(0,n.jsxs)(l.l6,{value:D?.displayAfterTime,onValueChange:e=>R("displayAfterTime",e),disabled:!D,children:[(0,n.jsx)(l.bq,{className:"w-[90px]",children:(0,n.jsx)(l.yv,{})}),(0,n.jsxs)(l.gC,{children:[(0,n.jsx)(l.eb,{value:"09:30",children:"09:30"}),(0,n.jsx)(l.eb,{value:"19:30",children:"19:30"})]})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[120px_1fr] items-center gap-4",children:[(0,n.jsx)(o.Label,{children:"Date d'expiration"}),D?(0,n.jsx)(N,{date:D.expirationDate,setDate:e=>R("expirationDate",e)}):(0,n.jsx)(N,{date:new Date,setDate:()=>{}})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[120px_1fr] items-center gap-4",children:[(0,n.jsx)(o.Label,{children:"Pi\xe8ce jointe"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-muted-foreground w-[90px] truncate",children:D?.attachment||"Aucun"}),(0,n.jsx)("input",{type:"file",ref:h,onChange:e=>{let t=e.target.files?.[0];t&&(R("attachment",t.name),p({title:`Pi\xe8ce jointe "${t.name}" ajout\xe9e.`}))},className:"hidden"}),(0,n.jsxs)(s.Button,{variant:"outline",size:"sm",disabled:!D,onClick:()=>{h.current?.click()},children:[(0,n.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Ajouter"]}),(0,n.jsxs)(s.Button,{variant:"outline",size:"sm",disabled:!D?.attachment,onClick:()=>R("attachment",null),children:[(0,n.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-[120px_1fr] items-center gap-4",children:[(0,n.jsx)(o.Label,{htmlFor:"link",children:"Lien"}),(0,n.jsx)(a.p,{id:"link",value:D?.link||"",onChange:e=>R("link",e.target.value),disabled:!D})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(c.T,{className:"h-48",value:D?.content||"",onChange:e=>R("content",e.target.value),disabled:!D}),(0,n.jsxs)("div",{className:"absolute right-2 top-2 flex flex-col gap-1",children:[(0,n.jsx)(s.Button,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>M("up"),disabled:!r,children:(0,n.jsx)(y.A,{className:"h-4 w-4"})}),(0,n.jsx)(s.Button,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>M("down"),disabled:!r,children:(0,n.jsx)(v.A,{className:"h-4 w-4"})})]})]})]})}),(0,n.jsx)(u.Zp,{children:(0,n.jsxs)(u.Wu,{className:"p-0",children:[(0,n.jsx)("div",{className:"overflow-x-auto h-[485px]",children:(0,n.jsxs)(d.XI,{children:[(0,n.jsx)(d.A0,{className:"sticky top-0 bg-muted",children:(0,n.jsxs)(d.Hj,{children:[(0,n.jsx)(d.nd,{children:"Titre"}),(0,n.jsx)(d.nd,{children:"Date d'expiration"}),(0,n.jsx)(d.nd,{className:"text-right",children:"Actions"})]})}),(0,n.jsx)(d.BF,{children:e.sort((e,t)=>e.order-t.order).map(e=>(0,n.jsxs)(d.Hj,{onClick:()=>A(e.id),className:(0,k.cn)("cursor-pointer",r===e.id&&"bg-accent text-accent-foreground"),children:[(0,n.jsxs)(d.nA,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("p",{children:e.title}),(0,n.jsx)(C.E,{variant:"outline",children:e.type})]}),j[e.id]?.data&&(0,n.jsx)("audio",{controls:!0,autoPlay:!0,className:"mt-2 h-8 w-full",children:(0,n.jsx)("source",{src:j[e.id]?.data,type:"audio/wav"})})]}),(0,n.jsx)(d.nA,{children:(0,_.GP)(e.expirationDate,"yyyy/MM/dd")}),(0,n.jsx)(d.nA,{className:"text-right",children:(0,n.jsx)(s.Button,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),I(e)},disabled:!e.content||j[e.id]?.loading,children:j[e.id]?.loading?(0,n.jsx)(x.A,{className:"h-4 w-4 animate-spin"}):(0,n.jsx)(w.A,{className:"h-4 w-4"})})})]},e.id))})]})}),(0,n.jsxs)("div",{className:"flex justify-between items-center p-2 border-t text-sm text-muted-foreground",children:[(0,n.jsxs)("span",{children:["Ordre: ",D?.order||"-"]}),(0,n.jsxs)("span",{children:["ID #",D?.id?D.id.split("-")[1]:"-"]})]})]})})]})]})}},34615:(e,t,r)=>{r(47376),t.Writer=r(78912),r(38541)},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,t,r)=>{"use strict";r.d(t,{T:()=>a});var n=r(60687),i=r(43210),s=r(4780);let a=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));a.displayName="Textarea"},35066:(e,t,r)=>{e.exports=r(72104)},35554:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37830:e=>{"use strict";e.exports=require("node:stream/web")},38541:(e,t,r)=>{var n=r(29021),i=r(78912),s=r(28354).inherits;function a(e,t){if(!(this instanceof a))return new a(e,t);i.call(this,t),this.path=e,this.file=n.createWriteStream(e,t),this.pipe(this.file),this.on("header",this._onHeader)}e.exports=a,s(a,i),a.prototype._onHeader=function(e){var t,r=this;function i(i,a){return i?r.emit("error",i):a!==e.length?r.emit("error",Error('problem writing "header" data')):void n.close(t,s)}function s(e){if(e)return r.emit("error",e);r.emit("done")}n.open(r.path,"r+",function(s,a){if(s)return r.emit("error",s);t=a,n.write(t,e,0,e.length,0,i)})}},40965:e=>{var t=function(){try{if(!Buffer.isEncoding("latin1"))return!1;var e=Buffer.alloc?Buffer.alloc(4):new Buffer(4);return e.fill("ab","ucs2"),"61006200"===e.toString("hex")}catch(e){return!1}}();function r(e,t,r,n){if(r<0||n>e.length)throw RangeError("Out of range index");return r>>>=0,(n=void 0===n?e.length:n>>>0)>r&&e.fill(t,r,n),e}e.exports=function(e,n,i,s,a){if(t)return e.fill(n,i,s,a);if("number"==typeof n)return r(e,n,i,s);if("string"==typeof n){var o;if("string"==typeof i?(a=i,i=0,s=e.length):"string"==typeof s&&(a=s,s=e.length),void 0!==a&&"string"!=typeof a)throw TypeError("encoding must be a string");if("latin1"===a&&(a="binary"),"string"==typeof a&&!Buffer.isEncoding(a))throw TypeError("Unknown encoding: "+a);if(""===n)return r(e,0,i,s);if(1===(o=n).length&&256>o.charCodeAt(0))return r(e,n.charCodeAt(0),i,s);n=new Buffer(n,a)}if(Buffer.isBuffer(n)){var l=n,c=i,d=s;if(c<0||d>e.length)throw RangeError("Out of range index");if(d<=c)return e;c>>>=0,d=void 0===d?e.length:d>>>0;for(var u=c,f=l.length;u<=d-f;)l.copy(e,u),u+=f;return u!==d&&l.copy(e,u,0,d-u),e}return r(e,0,i,s)}},40988:(e,t,r)=>{"use strict";r.d(t,{AM:()=>o,Wv:()=>l,hl:()=>c});var n=r(60687),i=r(43210),s=r(52676),a=r(4780);let o=s.bL,l=s.l9,c=i.forwardRef(({className:e,align:t="center",sideOffset:r=4,...i},o)=>(0,n.jsx)(s.ZL,{children:(0,n.jsx)(s.UC,{ref:o,align:t,sideOffset:r,className:(0,a.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));c.displayName=s.UC.displayName},43311:(e,t,r)=>{var n=r(40965),i=r(28176);e.exports=function(e,t,r){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative');if(Buffer.alloc)return Buffer.alloc(e,t,r);var s=i(e);return 0===e?s:void 0===t?n(s,0):("string"!=typeof r&&(r=void 0),n(s,t,r))}},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>a,aR:()=>o,wL:()=>u});var n=r(60687),i=r(43210),s=r(4780);let a=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));a.displayName="Card";let o=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight text-primary",e),...t}));l.displayName="CardTitle";let c=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent";let u=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},44708:e=>{"use strict";e.exports=require("node:https")},47002:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=47002,e.exports=t},47376:(e,t,r)=>{var n=r(28354),i=r(4885),s=r(35066),a=r(5415)("wave:reader"),o=n.inherits,l=n.format,c={WAVE_FORMAT_PCM:1,WAVE_FORMAT_IEEE_FLOAT:3,WAVE_FORMAT_ALAW:6,WAVE_FORMAT_MULAW:7};function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),this._bytes(4,this._onRiffID)}e.exports=d,o(d,s),i(d.prototype),d.prototype._onRiffID=function(e){a("onRiffID: %o",e);var t=this.riffId=e.toString("ascii");"RIFF"===t?(a("detected little-endian WAVE file"),this.endianness="LE",this._bytes(4,this._onChunkSize)):"RIFX"===t?(a("detected big-endian WAVE file"),this.endianness="BE",this._bytes(4,this._onChunkSize)):this.emit("error",Error(l('bad "chunk id": expected "RIFF" or "RIFX", got %j',t)))},d.prototype._onChunkSize=function(e){a("onChunkSize: %o",e),this.chunkSize=e["readUInt32"+this.endianness](0),this._bytes(4,this._onFormat)},d.prototype._onFormat=function(e){a("onFormat: %o",e),this.waveId=e.toString("ascii"),"WAVE"===this.waveId?this._bytes(4,this._onSubchunk1ID):this.emit("error",Error(l('bad "format": expected "WAVE", got %j',this.waveId)))},d.prototype._onSubchunk1ID=function(e){a("onSubchunk1ID: %o",e);var t=e.toString("ascii");this.chunkId=t,"fmt "===t?this._bytes(4,this._onSubchunk1Size):this.emit("error",Error(l('bad "fmt id": expected "fmt ", got %j',t)))},d.prototype._onSubchunk1Size=function(e){a("onSubchunk1Size: %o",e),this.subchunk1Size=e["readUInt32"+this.endianness](0),this._bytes(this.subchunk1Size,this._onSubchunk1)},d.prototype._onSubchunk1=function(e){a("onSubchunk1: %o",e),this.audioFormat=e["readUInt16"+this.endianness](0),this.channels=e["readUInt16"+this.endianness](2),this.sampleRate=e["readUInt32"+this.endianness](4),this.byteRate=e["readUInt32"+this.endianness](8),this.blockAlign=e["readUInt16"+this.endianness](12),this.bitDepth=e["readUInt16"+this.endianness](14),this.signed=8!==this.bitDepth;var t={audioFormat:this.audioFormat,endianness:this.endianness,channels:this.channels,sampleRate:this.sampleRate,byteRate:this.byteRate,blockAlign:this.blockAlign,bitDepth:this.bitDepth,signed:this.signed};switch(t.audioFormat){case c.WAVE_FORMAT_PCM:break;case c.WAVE_FORMAT_IEEE_FLOAT:t.float=!0;break;case c.WAVE_FORMAT_ALAW:t.alaw=!0;break;case c.WAVE_FORMAT_MULAW:t.ulaw=!0}this.emit("format",t),this._bytes(4,this._onSubchunk2ID)},d.prototype._onSubchunk2ID=function(e){a("onSubchunk2ID: %o",e);var t=e.toString("ascii");"data"===t?this._bytes(4,this._onDataChunkSize):"fact"===t?this._bytes(4,this._onFactChunkSize):(a("parsing unknown %o chunk",t),this.unknownID=t,this._bytes(4,this._onUnknownChunkSize))},d.prototype._onDataChunkSize=function(e){a("onDataChunkSize: %o",e);var t=e["readUInt32"+this.endianness](0);0===t&&(t=1/0),this._passthrough(t,this._onDataChunkDone)},d.prototype._onDataChunkDone=function(){a("onFactChunkDone"),this._bytes(4,this._onSubchunk2ID)},d.prototype._onFactChunkSize=function(e){a("onFactChunkSize: %o",e);var t=e["readUInt32"+this.endianness](0);this._bytes(t,this._onFactChunkData)},d.prototype._onFactChunkData=function(e){a("onFactChunkData: %o",e);var t=e["readUInt32"+this.endianness](0);a("number of samples: %o",t),this.numSamples=t,this._bytes(4,this._onSubchunk2ID)},d.prototype._onUnknownChunkSize=function(e){a("onUnknownChunkSize: %o",e);var t=e["readUInt32"+this.endianness](0);this._bytes(t,this._onUnknownChunkData)},d.prototype._onUnknownChunkData=function(e){a("onUnknownChunkData: %o",e),this.emit("chunk",{id:this.unknownID,data:e}),this._bytes(4,this._onSubchunk2ID)}},54052:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},54379:e=>{"use strict";e.exports=require("node:path")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},59470:e=>{var t=Object.prototype.toString,r="undefined"!=typeof Buffer&&"function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;e.exports=function(e,n,i){if("number"==typeof e)throw TypeError('"value" argument must not be a number');if("ArrayBuffer"===t.call(e).slice(8,-1)){var s=n,a=i;s>>>=0;var o=e.byteLength-s;if(o<0)throw RangeError("'offset' is out of bounds");if(void 0===a)a=o;else if((a>>>=0)>o)throw RangeError("'length' is out of bounds");return r?Buffer.from(e.slice(s,s+a)):new Buffer(new Uint8Array(e.slice(s,s+a)))}if("string"==typeof e){var l=n;if(("string"!=typeof l||""===l)&&(l="utf8"),!Buffer.isEncoding(l))throw TypeError('"encoding" must be a valid string encoding');return r?Buffer.from(e,l):new Buffer(e,l)}return r?Buffer.from(e):new Buffer(e)}},60312:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},61944:(e,t,r)=>{e.exports=u;var n,i=r(60312),s=r(79428).Buffer;u.ReadableState=d;var a=r(94735).EventEmitter;a.listenerCount||(a.listenerCount=function(e,t){return e.listeners(t).length});var o=r(27910),l=r(77974);l.inherits=r(775);var c=r(28354);function d(e,t){var i=r(7282),s=(e=e||{}).highWaterMark,a=e.objectMode?16:16384;this.highWaterMark=s||0===s?s:a,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(n||(n=r(21605).I),this.decoder=new n(e.encoding),this.encoding=e.encoding)}function u(e){if(r(7282),!(this instanceof u))return new u(e);this._readableState=new d(e,this),this.readable=!0,o.call(this)}function f(e,t,r,n,i){var s,a,o,d,u,f,h=(s=t,a=r,o=null,l.isBuffer(a)||l.isString(a)||l.isNullOrUndefined(a)||s.objectMode||(o=TypeError("Invalid non-string/buffer chunk")),o);if(h)e.emit("error",h);else if(l.isNullOrUndefined(r))t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,p(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var m=Error("stream.push() after EOF");e.emit("error",m)}else if(t.endEmitted&&i){var m=Error("stream.unshift() after end event");e.emit("error",m)}else{!t.decoder||i||n||(r=t.decoder.write(r)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&p(e)),d=e,(u=t).readingMore||(u.readingMore=!0,process.nextTick(function(){for(var e=d,t=u,r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}))}else i||(t.reading=!1);return!(f=t).ended&&(f.needReadable||f.length<f.highWaterMark||0===f.length)}function h(e,t){if(0===t.length&&t.ended)return 0;if(t.objectMode)return+(0!==e);if(isNaN(e)||l.isNull(e))if(t.flowing&&t.buffer.length)return t.buffer[0].length;else return t.length;if(e<=0)return 0;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=8388608)e=8388608;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length)if(!t.ended)return t.needReadable=!0,0;else return t.length;return e}function p(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick(function(){m(e)}):m(e))}function m(e){c("emit readable"),e.emit("readable"),g(e)}function g(e){var t=e._readableState;if(c("flow",t.flowing),t.flowing)do var r=e.read();while(null!==r&&t.flowing)}function b(e,t){var r,n=t.buffer,i=t.length,a=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=a?n.join(""):s.concat(n,i),n.length=0;else if(e<n[0].length){var l=n[0];r=l.slice(0,e),n[0]=l.slice(e)}else if(e===n[0].length)r=n.shift();else{r=a?"":new s(e);for(var c=0,d=0,u=n.length;d<u&&c<e;d++){var l=n[0],f=Math.min(e-c,l.length);a?r+=l.slice(0,f):l.copy(r,c,0,f),f<l.length?n[0]=l.slice(f):n.shift(),c+=f}}return r}function y(e){var t=e._readableState;if(t.length>0)throw Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}c=c&&c.debuglog?c.debuglog("stream"):function(){},l.inherits(u,o),u.prototype.push=function(e,t){var r=this._readableState;return l.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding)!==r.encoding&&(e=new s(e,t),t=""),f(this,r,e,t,!1)},u.prototype.unshift=function(e){return f(this,this._readableState,e,"",!0)},u.prototype.setEncoding=function(e){return n||(n=r(21605).I),this._readableState.decoder=new n(e),this._readableState.encoding=e,this},u.prototype.read=function(e){c("read",e);var t,r=this._readableState,n=e;if((!l.isNumber(e)||e>0)&&(r.emittedReadable=!1),0===e&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return c("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?y(this):p(this),null;if(0===(e=h(e,r))&&r.ended)return 0===r.length&&y(this),null;var i=r.needReadable;return c("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&c("length less than watermark",i=!0),(r.ended||r.reading)&&c("reading or ended",i=!1),i&&(c("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1),i&&!r.reading&&(e=h(n,r)),t=e>0?b(e,r):null,l.isNull(t)&&(r.needReadable=!0,e=0),r.length-=e,0!==r.length||r.ended||(r.needReadable=!0),n!==e&&r.ended&&0===r.length&&y(this),l.isNull(t)||this.emit("data",t),t},u.prototype._read=function(e){this.emit("error",Error("not implemented"))},u.prototype.pipe=function(e,t){var r,n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,c("pipe count=%d opts=%j",s.pipesCount,t);var o=t&&!1===t.end||e===process.stdout||e===process.stderr?f:d;function l(e){c("onunpipe"),e===n&&f()}function d(){c("onend"),e.end()}s.endEmitted?process.nextTick(o):n.once("end",o),e.on("unpipe",l);var u=(r=n,function(){var e=r._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a.listenerCount(r,"data")&&(e.flowing=!0,g(r))});function f(){c("cleanup"),e.removeListener("close",m),e.removeListener("finish",b),e.removeListener("drain",u),e.removeListener("error",p),e.removeListener("unpipe",l),n.removeListener("end",d),n.removeListener("end",f),n.removeListener("data",h),s.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}function h(t){c("ondata"),!1===e.write(t)&&(c("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,n.pause())}function p(t){c("onerror",t),y(),e.removeListener("error",p),0===a.listenerCount(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",b),y()}function b(){c("onfinish"),e.removeListener("close",m),y()}function y(){c("unpipe"),n.unpipe(e)}return e.on("drain",u),n.on("data",h),e._events&&e._events.error?i(e._events.error)?e._events.error.unshift(p):e._events.error=[p,e._events.error]:e.on("error",p),e.once("close",m),e.once("finish",b),e.emit("pipe",n),s.flowing||(c("pipe resume"),n.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var i=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}(t.pipes,e);return -1===i||(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},u.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;if(!n.readableListening)if(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading)n.length&&p(this,n);else{var i=this;process.nextTick(function(){c("readable nexttick read 0"),i.read(0)})}}return r},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(c("resume"),r.flowing=!0,r.reading||(c("resume read 0"),this.read(0)),e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,process.nextTick(function(){var r,n;r=e,(n=t).resumeScheduled=!1,r.emit("resume"),g(r),n.flowing&&!n.reading&&r.read(0)}))),this},u.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(c("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){c("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)&&(n.push(i)||(r=!0,e.pause()))}),e)l.isFunction(e[i])&&l.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},n},u._fromList=b},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65110:(e,t,r)=>{var n;function i(e){function r(){if(r.enabled){var e=+new Date;r.diff=e-(n||e),r.prev=n,r.curr=e,n=e;for(var i=Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;a++;var s=t.formatters[n];if("function"==typeof s){var o=i[a];e=s.call(r,o),i.splice(a,1),a--}return e}),t.formatArgs.call(r,i),(r.log||t.log||console.log.bind(console)).apply(r,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r)|0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.substr(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(93609),t.names=[],t.skips=[],t.formatters={}},66427:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>f,tree:()=>c});var n=r(65239),i=r(48088),s=r(88170),a=r.n(s),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["communications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,21266)),"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\communications\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\communications\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/communications/page",pathname:"/communications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(31658);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},72104:(e,t,r)=>{e.exports=a;var n=r(7282),i=r(77974);function s(e,t){this.afterTransform=function(e,r){var n=t,s=e,a=r,o=n._transformState;o.transforming=!1;var l=o.writecb;if(!l)return n.emit("error",Error("no writecb in Transform class"));o.writechunk=null,o.writecb=null,i.isNullOrUndefined(a)||n.push(a),l&&l(s);var c=n._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&n._read(c.highWaterMark)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState=new s(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){i.isFunction(this._flush)?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw Error("calling transform done when ws.length != 0");if(n.transforming)throw Error("calling transform done when still transforming");return e.push(null)}i.inherits=r(775),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw Error("not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;i.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},77974:(e,t,r)=>{function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(79428).Buffer.isBuffer},78912:(e,t,r)=>{var n=r(28354).inherits,i=r(35066),s=r(5415)("wave:writer"),a=r(43311),o=r(59470);e.exports=f;var l=o("RIFF"),c=o("WAVE"),d=o("fmt "),u=o("data");function f(e){if(!(this instanceof f))return new f(e);i.call(this,e),this.endianness="LE",this.format=1,this.channels=2,this.sampleRate=44100,this.bitDepth=16,this.bytesProcessed=0,e&&(null!=e.format&&(this.format=e.format),null!=e.channels&&(this.channels=e.channels),null!=e.sampleRate&&(this.sampleRate=e.sampleRate),null!=e.bitDepth&&(this.bitDepth=e.bitDepth)),this._writeHeader()}n(f,i),f.prototype._writeHeader=function(){s("_writeHeader()");var e=this.dataLength;null==e&&(s('using default "dataLength" of %d',0xffffff9b),e=0xffffff9b);var t=e+44,r=a(44),n=0;l.copy(r,n),n+=l.length,r["writeUInt32"+this.endianness](t-8,n),n+=4,c.copy(r,n),n+=c.length,d.copy(r,n),n+=d.length,r["writeUInt32"+this.endianness](16,n),n+=4,r["writeUInt16"+this.endianness](this.format,n),n+=2,r["writeUInt16"+this.endianness](this.channels,n),n+=2,r["writeUInt32"+this.endianness](this.sampleRate,n),n+=4;var i=this.byteRate;null==i&&(i=this.sampleRate*this.channels*this.bitDepth/8),r["writeUInt32"+this.endianness](i,n),n+=4;var o=this.blockAlign;null==o&&(o=this.channels*this.bitDepth/8),r["writeUInt16"+this.endianness](o,n),n+=2,r["writeUInt16"+this.endianness](this.bitDepth,n),n+=2,u.copy(r,n),n+=u.length,r["writeUInt32"+this.endianness](e,n),n+=4,this._header=r,this.headerLength=44,this.push(r)},f.prototype._onEnd=function(e){s("_onEnd()")},f.prototype._transform=function(e,t,r){this.push(e),this.bytesProcessed+=e.length,r()},f.prototype._flush=function(e){s("_flush()"),e(),this.dataLength=this.bytesProcessed,process.nextTick(this._emitHeader.bind(this))},f.prototype._emitHeader=function(){s("_emitHeader()");var e=this.dataLength,t=this.headerLength,r=this._header;r["writeUInt32"+this.endianness](e+t-8,4),r["writeUInt32"+this.endianness](e,t-4),this.emit("header",r)}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},80013:(e,t,r)=>{"use strict";r.d(t,{Label:()=>c});var n=r(60687),i=r(43210),s=r(78148),a=r(24224),o=r(4780);let l=(0,a.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef(({className:e,...t},r)=>(0,n.jsx)(s.b,{ref:r,className:(0,o.cn)(l(),e),...t}));c.displayName=s.b.displayName},80213:(e,t,r)=>{Promise.resolve().then(r.bind(r,34060))},81630:e=>{"use strict";e.exports=require("http")},82493:(e,t,r)=>{var n=r(83997),i=r(28354);(t=e.exports=r(65110)).init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return a.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(e){var r=this.namespace;if(this.useColors){var n=this.color,i="  \x1b[3"+n+";1m"+r+" \x1b[0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("\x1b[3"+n+"m+"+t.humanize(this.diff)+"\x1b[0m")}else e[0]=new Date().toUTCString()+" "+r+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=o,t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(s)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{});var s=parseInt(process.env.DEBUG_FD,10)||2;1!==s&&2!==s&&i.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var a=1===s?process.stdout:2===s?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new n.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":(t=new(r(29021)).SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(t=new(r(91645)).Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(s);function o(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(o())},83997:e=>{"use strict";e.exports=require("tty")},84297:e=>{"use strict";e.exports=require("async_hooks")},88500:(e,t,r)=>{e.exports=l;var n=r(79428).Buffer;l.WritableState=o;var i=r(77974);i.inherits=r(775);var s=r(27910);function a(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function o(e,t){var n=r(7282),i=(e=e||{}).highWaterMark,s=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:s,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)n?process.nextTick(function(){r.pendingcb--,i(t)}):(r.pendingcb--,i(t)),e._writableState.errorEmitted=!0,e.emit("error",t);else{var s=f(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||u(e,r),n?process.nextTick(function(){d(e,r,s,i)}):d(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function l(e){var t=r(7282);if(!(this instanceof l)&&!(this instanceof t))return new l(e);this._writableState=new o(e,this),this.writable=!0,s.call(this)}function c(e,t,r,n,i,s,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function d(e,t,r,n){var i,s;r||(i=e,0===(s=t).length&&s.needDrain&&(s.needDrain=!1,i.emit("drain"))),t.pendingcb--,n(),p(e,t)}function u(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,c(e,t,!0,t.length,t.buffer,"",function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)}),t.buffer=[]}else{for(var n=0;n<t.buffer.length;n++){var i=t.buffer[n],s=i.chunk,a=i.encoding,o=i.callback,l=t.objectMode?1:s.length;if(c(e,t,!1,l,s,a,o),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function f(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function h(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function p(e,t){var r=f(e,t);return r&&(0===t.pendingcb?(h(e,t),t.finished=!0,e.emit("finish")):h(e,t)),r}i.inherits(l,s),l.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))},l.prototype.write=function(e,t,r){var s,o,l=this._writableState,d=!1;return(i.isFunction(t)&&(r=t,t=null),i.isBuffer(e)?t="buffer":t||(t=l.defaultEncoding),i.isFunction(r)||(r=function(){}),l.ended)?(s=r,o=Error("write after end"),this.emit("error",o),process.nextTick(function(){s(o)})):function(e,t,r,n){var s=!0;if(!i.isBuffer(r)&&!i.isString(r)&&!i.isNullOrUndefined(r)&&!t.objectMode){var a=TypeError("Invalid non-string/buffer chunk");e.emit("error",a),process.nextTick(function(){n(a)}),s=!1}return s}(this,l,e,r)&&(l.pendingcb++,d=function(e,t,r,s,o){l=r,d=s,!t.objectMode&&!1!==t.decodeStrings&&i.isString(l)&&(l=new n(l,d)),r=l,i.isBuffer(r)&&(s="buffer");var l,d,u=t.objectMode?1:r.length;t.length+=u;var f=t.length<t.highWaterMark;return f||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new a(r,s,o)):c(e,t,!1,u,r,s,o),f}(this,l,e,t,r)),d},l.prototype.cork=function(){var e=this._writableState;e.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||u(this,e))},l.prototype._write=function(e,t,r){r(Error("not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,r){var n,s,a,o=this._writableState;i.isFunction(e)?(r=e,e=null,t=null):i.isFunction(t)&&(r=t,t=null),i.isNullOrUndefined(e)||this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||(n=this,s=o,a=r,s.ending=!0,p(n,s),a&&(s.finished?process.nextTick(a):n.once("finish",a)),s.ended=!0)}},89667:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(60687),i=r(43210),s=r(4780);let a=i.forwardRef(({className:e,type:t,...r},i)=>(0,n.jsx)("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:ring-yellow-400/30 focus-visible:border-yellow-400",e),ref:i,...r}));a.displayName="Input"},89941:(e,t,r)=>{Promise.resolve().then(r.bind(r,21266))},91645:e=>{"use strict";e.exports=require("net")},93203:(e,t,r)=>{"use strict";let n;r.r(t),r.d(t,{"4038aefe2208d263865916b98ef2f966c82930513e":()=>K});var i=r(91199);r(42087);var s=r(95427),a=r(95082);r(80595);let o=["debug","info","warn","error"],l="__genkit_logger",c={shouldLog(e){return o.indexOf(this.level)<=o.indexOf(e)},debug(...e){this.shouldLog("debug")&&console.debug(...e)},info(...e){this.shouldLog("info")&&console.info(...e)},warn(...e){this.shouldLog("warn")&&console.warn(...e)},error(...e){this.shouldLog("error")&&console.error(...e)},level:"info"};function d(){return global[l]||(global[l]=c),global[l]}class u{defaultLogger=c;init(e){global[l]=e}info(...e){d().info.apply(d(),e)}debug(...e){d().debug.apply(d(),e)}error(...e){d().error.apply(d(),e)}warn(...e){d().warn.apply(d(),e)}setLogLevel(e){d().level=e}logStructured(e,t){d().info(e,t)}logStructuredError(e,t){d().error(e,t)}}let f=new u;r(72448);var h=r(68567);r(15562);var p=r(28787);r(90089);var m=r(30998);r(23860),r(26617),r(73663),r(53137),r(40064),r(3223);var g=r(7532),b=r(62636);Symbol("Let zodToJsonSchema decide on which parser to use");let y=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function v(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,i="",s=!1,a=!1,o=!1;for(let e=0;e<n.length;e++){if(s){i+=n[e],s=!1;continue}if(r.i){if(a){if(n[e].match(/[a-z]/)){o?(i+=n[e],i+=`${n[e-2]}-${n[e]}`.toUpperCase(),o=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(i+=n[e],o=!0):i+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){i+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){i+=`(^|(?<=[\r
]))`;continue}else if("$"===n[e]){i+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){i+=a?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}i+=n[e],"\\"===n[e]?s=!0:a&&"]"===n[e]?a=!1:a||"["!==n[e]||(a=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}let x=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};b(new g),m.GenkitError;r(643);var w=r(92234);r(64099),r(66541);let _=h.z.union([w.TextPartSchema,w.MediaPartSchema,w.ToolRequestPartSchema,w.ToolResponsePartSchema,w.DataPartSchema,w.CustomPartSchema,w.ReasoningPartSchema]),k=h.z.enum(["system","user","model","tool"]),j=h.z.object({role:k,content:h.z.array(_),metadata:h.z.record(h.z.unknown()).optional()});h.z.object({versions:h.z.array(h.z.string()).optional(),label:h.z.string().optional(),configSchema:h.z.record(h.z.any()).optional(),supports:h.z.object({multiturn:h.z.boolean().optional(),media:h.z.boolean().optional(),tools:h.z.boolean().optional(),systemRole:h.z.boolean().optional(),output:h.z.array(h.z.string()).optional(),contentType:h.z.array(h.z.string()).optional(),context:h.z.boolean().optional(),constrained:h.z.enum(["none","all","no-tools"]).optional(),toolChoice:h.z.boolean().optional()}).optional(),stage:h.z.enum(["featured","stable","unstable","legacy","deprecated"]).optional()});let S=h.z.object({name:h.z.string(),description:h.z.string(),inputSchema:h.z.record(h.z.any()).describe("Valid JSON Schema representing the input of the tool.").nullish(),outputSchema:h.z.record(h.z.any()).describe("Valid JSON Schema describing the output of the tool.").nullish(),metadata:h.z.record(h.z.any()).describe("additional metadata for this tool definition").optional()}),z={temperature:"Controls the degree of randomness in token selection. A lower value is good for a more predictable response. A higher value leads to more diverse or unexpected results.",maxOutputTokens:"The maximum number of tokens to include in the response.",topK:"The maximum number of tokens to consider when sampling.",topP:"Decides how many possible words to consider. A higher value means that the model looks at more possible words, even the less likely ones, which makes the generated text more diverse."};h.z.object({version:h.z.string().describe("A specific version of a model family, e.g. `gemini-2.0-flash` for the `googleai` family.").optional(),temperature:h.z.number().describe(z.temperature).optional(),maxOutputTokens:h.z.number().describe(z.maxOutputTokens).optional(),topK:h.z.number().describe(z.topK).optional(),topP:h.z.number().describe(z.topP).optional(),stopSequences:h.z.array(h.z.string()).length(5).describe("Set of character sequences (up to 5) that will stop output generation.").optional()}).passthrough();let C=h.z.object({format:h.z.string().optional(),schema:h.z.record(h.z.any()).optional(),constrained:h.z.boolean().optional(),contentType:h.z.string().optional()}),N=h.z.object({messages:h.z.array(j),config:h.z.any().optional(),tools:h.z.array(S).optional(),toolChoice:h.z.enum(["auto","required","none"]).optional(),output:C.optional(),docs:h.z.array(w.DocumentDataSchema).optional()}).extend({candidates:h.z.number().optional()}),E=h.z.object({inputTokens:h.z.number().optional(),outputTokens:h.z.number().optional(),totalTokens:h.z.number().optional(),inputCharacters:h.z.number().optional(),outputCharacters:h.z.number().optional(),inputImages:h.z.number().optional(),outputImages:h.z.number().optional(),inputVideos:h.z.number().optional(),outputVideos:h.z.number().optional(),inputAudioFiles:h.z.number().optional(),outputAudioFiles:h.z.number().optional(),custom:h.z.record(h.z.number()).optional(),thoughtsTokens:h.z.number().optional(),cachedContentTokens:h.z.number().optional()}),A=h.z.enum(["stop","length","blocked","interrupted","other","unknown"]),R=h.z.object({index:h.z.number(),message:j,usage:E.optional(),finishReason:A,finishMessage:h.z.string().optional(),custom:h.z.unknown()});h.z.object({index:h.z.number(),code:h.z.enum(["blocked","other","unknown"]),message:h.z.string().optional()}),h.z.object({message:j.optional(),finishReason:A,finishMessage:h.z.string().optional(),latencyMs:h.z.number().optional(),usage:E.optional(),custom:h.z.unknown(),raw:h.z.unknown(),request:N.optional(),operation:p.OperationSchema.optional()}).extend({candidates:h.z.array(R).optional(),finishReason:A.optional()}),h.z.object({role:k.optional(),index:h.z.number().optional(),content:h.z.array(_),custom:h.z.unknown().optional(),aggregated:h.z.boolean().optional()});function M(e){let t={...e};return t.withConfig=t=>M({...e,config:t}),t.withVersion=t=>M({...e,version:t}),t}let I=h.z.object({format:h.z.string().optional(),contentType:h.z.string().optional(),instructions:h.z.union([h.z.boolean(),h.z.string()]).optional(),jsonSchema:h.z.any().optional(),constrained:h.z.boolean().optional()});h.z.object({model:h.z.string(),docs:h.z.array(w.DocumentDataSchema).optional(),messages:h.z.array(j),tools:h.z.array(h.z.string()).optional(),toolChoice:h.z.enum(["auto","required","none"]).optional(),config:h.z.any().optional(),output:I.optional(),resume:h.z.object({respond:h.z.array(w.ToolResponsePartSchema).optional(),restart:h.z.array(w.ToolRequestPartSchema).optional(),metadata:h.z.record(h.z.any()).optional()}).optional(),returnToolRequests:h.z.boolean().optional(),maxTurns:h.z.number().optional()});var D=r(61361),T=r(91370),L=r(84395),B=r(76937),U=r(96973),O=r(39760);async function P(e,t){let r=["v1"];if(t?.apiVersion&&(r=Array.isArray(t?.apiVersion)?t?.apiVersion:[t?.apiVersion]),r.includes("v1beta")&&Object.keys(L.SUPPORTED_V15_MODELS).forEach(r=>(0,L.defineGoogleAIModel)({ai:e,name:r,apiKey:t?.apiKey,apiVersion:"v1beta",baseUrl:t?.baseUrl,debugTraces:t?.experimental_debugTraces})),r.includes("v1")&&(Object.keys(L.SUPPORTED_V15_MODELS).forEach(r=>(0,L.defineGoogleAIModel)({ai:e,name:r,apiKey:t?.apiKey,apiVersion:void 0,baseUrl:t?.baseUrl,debugTraces:t?.experimental_debugTraces})),Object.keys(T.SUPPORTED_MODELS).forEach(r=>(0,T.defineGoogleAIEmbedder)(e,r,{apiKey:t?.apiKey}))),t?.models)for(let r of t?.models){let n="string"==typeof r?r:r.name.split("/")[1],i="string"==typeof r?(0,L.gemini)(r):r;(0,L.defineGoogleAIModel)({ai:e,name:n,apiKey:t?.apiKey,baseUrl:t?.baseUrl,info:{...i.info,label:`Google AI - ${n}`},debugTraces:t?.experimental_debugTraces})}}async function q(e,t,r,n){var i,s,a;"embedder"===t?(i=e,s=r,a=n,(0,T.defineGoogleAIEmbedder)(i,`googleai/${s}`,{apiKey:a?.apiKey})):r.startsWith("veo")?"background-model"===t&&(0,O.defineVeoModel)(e,r,n?.apiKey):"model"===t&&function(e,t,r){if(t.startsWith("imagen"))return(0,B.defineImagenModel)(e,t,r?.apiKey);let n=(0,L.gemini)(t);(0,L.defineGoogleAIModel)({ai:e,name:n.name,apiKey:r?.apiKey,baseUrl:r?.baseUrl,info:{...n.info,label:`Google AI - ${t}`},debugTraces:r?.experimental_debugTraces})}(e,r,n)}async function F(e){let t=e?.apiKey||(0,D.getApiKeyFromEnvVar)();if(!t)return f.error("Pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable."),[];let r=await (0,U.listModels)(e?.baseUrl||"https://generativelanguage.googleapis.com",t);return[...r.filter(e=>e.supportedGenerationMethods.includes("predict")&&e.name.includes("imagen")).filter(e=>!e.description||!e.description.includes("deprecated")).map(e=>{let t=e.name.split("/").at(-1);return(0,a.modelActionMetadata)({name:`googleai/${t}`,info:{...B.GENERIC_IMAGEN_INFO},configSchema:B.ImagenConfigSchema})}),...r.filter(e=>e.supportedGenerationMethods.includes("predictLongRunning")&&e.name.includes("veo")).filter(e=>!e.description||!e.description.includes("deprecated")).map(e=>{let t=e.name.split("/").at(-1);return(0,a.modelActionMetadata)({name:`googleai/${t}`,info:{...O.GENERIC_VEO_INFO},configSchema:O.VeoConfigSchema,background:!0})}),...r.filter(e=>e.supportedGenerationMethods.includes("generateContent")).filter(e=>!e.description||!e.description.includes("deprecated")).map(e=>{let t=(0,L.gemini)(e.name.startsWith("models/")?e.name.substring(7):e.name);return(0,a.modelActionMetadata)({name:t.name,info:t.info,configSchema:L.GeminiConfigSchema})}),...r.filter(e=>e.supportedGenerationMethods.includes("embedContent")).filter(e=>!e.description||!e.description.includes("deprecated")).map(e=>{let t="googleai/"+(e.name.startsWith("models/")?e.name.substring(7):e.name);return(0,a.embedderActionMetadata)({name:t,configSchema:T.GeminiEmbeddingConfigSchema,info:{dimensions:768,label:`Google Gen AI - ${t}`,supports:{input:["text"]}}})})]}let W=function(e){var t,r,n;let i;return t=async t=>await P(t,e),r=async(t,r,n)=>await q(t,r,n,e),n=async()=>i||(i=await F(e)),e=>({name:"googleai",initializer:async()=>{await t(e)},resolver:async(t,n)=>{if(r)return await r(e,t,n)},listActions:async()=>n?await n():[]})};W.model=(e,t)=>e.startsWith("imagen")?M({name:`googleai/${e}`,config:t,configSchema:B.ImagenConfigSchema}):e.startsWith("veo")?M({name:`googleai/${e}`,config:t,configSchema:O.VeoConfigSchema}):M({name:`googleai/${e}`,config:t,configSchema:L.GeminiConfigSchema}),W.embedder=(e,t)=>(0,a.embedderRef)({name:`googleai/${e}`,config:t,configSchema:T.GeminiEmbeddingConfigSchema});var V=r(34615),G=r(33331);let $=h.z.object({media:h.z.string().describe("The generated audio as a data URI. Expected format: 'data:audio/wav;base64,<encoded_data>'.")});async function K(e){return J(e)}async function H(e,t=1,r=24e3,n=2){return new Promise((i,s)=>{let a=new V.Writer({channels:t,sampleRate:r,bitDepth:8*n}),o=[];a.on("error",s),a.on("data",function(e){o.push(e)}),a.on("end",function(){i(Buffer.concat(o).toString("base64"))}),a.write(e),a.end()})}let J=s.ai.defineFlow({name:"textToSpeechFlow",inputSchema:h.z.string(),outputSchema:$},async e=>{let{media:t}=await s.ai.generate({model:W.model("gemini-2.5-flash-preview-tts"),config:{responseModalities:["AUDIO"],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Algenib"}}}},prompt:e});if(!t)throw Error("no media returned");let r=Buffer.from(t.url.substring(t.url.indexOf(",")+1),"base64");return{media:"data:audio/wav;base64,"+await H(r)}});(0,G.D)([K]),(0,i.A)(K,"4038aefe2208d263865916b98ef2f966c82930513e",null)},93609:e=>{function t(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,r){r=r||{};var n,i,s=typeof e;if("string"===s&&e.length>0){var a=e;if(!((a=String(a)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(o){var l=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*l;case"days":case"day":case"d":return 864e5*l;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*l;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*l;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:break}}}return}if("number"===s&&!1===isNaN(e)){return r.long?t(n=e,864e5,"day")||t(n,36e5,"hour")||t(n,6e4,"minute")||t(n,1e3,"second")||n+" ms":(i=e)>=864e5?Math.round(i/864e5)+"d":i>=36e5?Math.round(i/36e5)+"h":i>=6e4?Math.round(i/6e4)+"m":i>=1e3?Math.round(i/1e3)+"s":i+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},94735:e=>{"use strict";e.exports=require("events")},95427:(e,t,r)=>{"use strict";r.d(t,{ai:()=>n});let n="1"===process.env.NEXT_PUBLIC_ENABLE_AI?r(4571).genkit({plugins:[r(246).googleAI()],model:"googleai/gemini-2.0-flash"}):void 0},96834:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var n=r(60687);r(43210);var i=r(24224),s=r(4780);let a=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...r}){return(0,n.jsx)("div",{className:(0,s.cn)(a({variant:t}),e),...r})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[4447,8736,1658,4591,1265,4394,8617,6052,99],()=>r(66427));module.exports=n})();