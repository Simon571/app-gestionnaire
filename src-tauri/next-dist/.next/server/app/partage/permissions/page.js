(()=>{var e={};e.id=2698,e.ids=[2698],e.modules={43:(e,r,t)=>{"use strict";t.d(r,{jH:()=>a});var s=t(43210);t(60687);var i=s.createContext(void 0);function a(e){let r=s.useContext(i);return e||r||"ltr"}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3316:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Public\\\\Documents\\\\app-gestionnaire\\\\src\\\\app\\\\partage\\\\permissions\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\partage\\permissions\\page.tsx","default")},6211:(e,r,t)=>{"use strict";t.d(r,{A0:()=>l,BF:()=>o,Hj:()=>d,XI:()=>n,nA:()=>u,nd:()=>c});var s=t(60687),i=t(43210),a=t(4780);let n=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",e),...r})}));n.displayName="Table";let l=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",e),...r}));l.displayName="TableHeader";let o=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",e),...r}));o.displayName="TableBody",i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let d=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));d.displayName="TableRow";let c=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));c.displayName="TableHead";let u=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));u.displayName="TableCell",i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption"},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11329:(e,r,t)=>{"use strict";t.d(r,{DX:()=>n});var s=t(43210);function i(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var a=t(60687),n=function(e){let r=function(e){let r=s.forwardRef((e,r)=>{let{children:t,...a}=e;if(s.isValidElement(t)){var n;let e,l,o=(n=t,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),d=function(e,r){let t={...r};for(let s in r){let i=e[s],a=r[s];/^on[A-Z]/.test(s)?i&&a?t[s]=(...e)=>{let r=a(...e);return i(...e),r}:i&&(t[s]=i):"style"===s?t[s]={...i,...a}:"className"===s&&(t[s]=[i,a].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==s.Fragment&&(d.ref=r?function(...e){return r=>{let t=!1,s=e.map(e=>{let s=i(e,r);return t||"function"!=typeof s||(t=!0),s});if(t)return()=>{for(let r=0;r<s.length;r++){let t=s[r];"function"==typeof t?t():i(e[r],null)}}}}(r,o):o),s.cloneElement(t,d)}return s.Children.count(t)>1?s.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=s.forwardRef((e,t)=>{let{children:i,...n}=e,l=s.Children.toArray(i),d=l.find(o);if(d){let e=d.props.children,i=l.map(r=>r!==d?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...n,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,i):null})}return(0,a.jsx)(r,{...n,ref:t,children:i})});return t.displayName=`${e}.Slot`,t}("Slot"),l=Symbol("radix.slottable");function o(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},16438:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var s=t(60687),i=t(43210),a=t(24026),n=t(26622),l=t(48206),o=t(17872),d=t(58595),c=t(77368),u=t(71273),p=t(18360),f=t(4780),m=t(44493),x=t(29523),b=t(50812),h=t(42692),g=t(6211);let v=[{id:"assembly",label:"Assembl\xe9e",icon:a.A,permissions:[{id:"assembly_admin",label:"Administration de l'assembl\xe9e"},{id:"bulletin_board",label:"Tableau d'affichage"},{id:"events",label:"\xc9v\xe8nements de l'assembl\xe9e"},{id:"preaching_activity",label:"Activit\xe9 de pr\xe9dication"},{id:"other_groups",label:"Autres groupes"},{id:"meeting_attendance",label:"Assistance aux r\xe9unions"},{id:"publications",label:"Publications"}]},{id:"schedule",label:"Programme",icon:n.A,permissions:[{id:"life_and_ministry_meeting",label:"R\xe9union Vie et minist\xe8re"},{id:"congregation_needs",label:"Besoins de l'assembl\xe9e"},{id:"public_talks",label:"Discours publics"},{id:"preaching_and_witnessing",label:"Pr\xe9dication et T\xe9moignage"},{id:"services",label:"Services"},{id:"maintenance",label:"Maintenance"},{id:"cleaning",label:"Nettoyage et Entretien"}]},{id:"people",label:"Personnes",icon:l.A,permissions:[{id:"personal_info",label:"Informations sur la personne"},{id:"spiritual_person",label:"Personne Spirituel"},{id:"assign_person",label:"Personne Attribuer"},{id:"publisher_reports",label:"Rapports du proclamateur"}]},{id:"territory",label:"Territoire",icon:o.A,permissions:[{id:"territories",label:"Territoires"}]},{id:"me",label:"Moi",icon:d.A,permissions:[{id:"tasks",label:"T\xe2ches"}]}],y=({label:e,value:r,onChange:t})=>{let a=i.useId();return(0,s.jsxs)("div",{className:"flex items-center justify-between border-b py-3",children:[(0,s.jsx)("span",{className:"text-sm",children:e}),(0,s.jsxs)(b.z,{value:r,onValueChange:t,className:"flex items-center gap-4",children:[(0,s.jsx)(b.C,{value:"edit",id:`${a}-edit`,className:"h-6 w-6 border-green-600 text-green-600 focus:ring-green-600"}),(0,s.jsx)(b.C,{value:"view",id:`${a}-view`,className:"h-6 w-6 border-orange-500 text-orange-500 focus:ring-orange-500"}),(0,s.jsx)(b.C,{value:"none",id:`${a}-none`,className:"h-6 w-6 border-red-600 text-red-600 focus:ring-red-600"})]})]})},j=()=>v.flatMap(e=>e.permissions).reduce((e,r)=>("publisher_reports"===r.id||"territories"===r.id?e[r.id]="view":e[r.id]="none",e),{}),N=({users:e,selectedUser:r,onSelectUser:t})=>(0,s.jsxs)(m.Zp,{className:"h-full",children:[(0,s.jsx)(m.aR,{children:(0,s.jsx)(m.ZB,{children:"Utilisateurs de partage"})}),(0,s.jsx)(m.Wu,{className:"p-0",children:(0,s.jsx)(h.F,{className:"h-[calc(100vh-200px)]",children:(0,s.jsx)(g.XI,{children:(0,s.jsx)(g.BF,{children:e.map(e=>(0,s.jsx)(g.Hj,{onClick:()=>t(e),className:(0,f.cn)("cursor-pointer",r?.id===e.id&&"bg-accent"),children:(0,s.jsx)(g.nA,{children:e.displayName})},e.id))})})})})]});function w(){let{people:e,updatePerson:r}=(0,p.d)(),[t,a]=i.useState(null),[n,l]=i.useState(j());i.useEffect(()=>{t?l(t.sharingPermissions||j()):l(j())},[t]);let o=(e,r)=>{l(t=>({...t,[e]:r}))};return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[300px_1fr] gap-4",children:[(0,s.jsx)(N,{users:e,selectedUser:t,onSelectUser:a}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsxs)(m.aR,{children:[(0,s.jsxs)(m.ZB,{children:["Permissions pour ",t?t.displayName:"aucun utilisateur s\xe9lectionn\xe9"]}),(0,s.jsx)(m.BT,{children:"G\xe9rer les autorisations d'acc\xe8s pour l'utilisateur s\xe9lectionn\xe9."})]}),(0,s.jsx)(m.Wu,{className:"grid gap-8 md:grid-cols-2",children:v.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"flex items-center text-lg font-semibold",children:[(0,s.jsx)(e.icon,{className:"mr-3 h-5 w-5 text-primary"}),e.label]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,s.jsx)("span",{children:"Modifier"}),(0,s.jsx)("span",{children:"Voir"}),(0,s.jsx)("span",{children:"Aucun"})]})]}),(0,s.jsx)("div",{className:"flex flex-col",children:e.permissions.map(e=>(0,s.jsx)(y,{label:e.label,value:n[e.id]||"none",onChange:r=>o(e.id,r)},e.id))})]},e.id))}),(0,s.jsxs)(m.wL,{className:"flex justify-end gap-2",children:[(0,s.jsxs)(x.Button,{variant:"outline",onClick:()=>{l(Object.keys(n).reduce((e,r)=>(e[r]="none",e),{}))},disabled:!t,children:[(0,s.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"R\xe9initialiser"]}),(0,s.jsxs)(x.Button,{onClick:()=>{t&&(r({...t,sharingPermissions:n}),alert("Permissions sauvegard\xe9es !"))},disabled:!t,children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})]})]})]})}},17869:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(65239),i=t(48088),a=t(88170),n=t.n(a),l=t(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let d={children:["",{children:["partage",{children:["permissions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3316)),"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\partage\\permissions\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\partage\\permissions\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/partage/permissions/page",pathname:"/partage/permissions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},18853:(e,r,t)=>{"use strict";t.d(r,{X:()=>a});var s=t(43210),i=t(66156);function a(e){let[r,t]=s.useState(void 0);return(0,i.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let s,i;if(!Array.isArray(r)||!r.length)return;let a=r[0];if("borderBoxSize"in a){let e=a.borderBoxSize,r=Array.isArray(e)?e[0]:e;s=r.inlineSize,i=r.blockSize}else s=e.offsetWidth,i=e.offsetHeight;t({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29523:(e,r,t)=>{"use strict";t.d(r,{Button:()=>c,r:()=>d});var s=t(60687),i=t(43210),a=t(11329),n=t(24224),l=t(11516),o=t(4780);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef(({className:e,variant:r,size:t,asChild:i=!1,loading:n=!1,loadingText:c="Patientez...",children:u,...p},f)=>{let m=i?a.DX:"button",x=n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{className:"mr-2 h-4 w-4 animate-spin"}),c]}):(0,s.jsx)(s.Fragment,{children:u});return(0,s.jsx)(m,{className:(0,o.cn)(d({variant:r,size:t,className:e})),ref:f,disabled:n,"aria-busy":n,...p,children:i?u:x})});c.displayName="Button"},33873:e=>{"use strict";e.exports=require("path")},42692:(e,r,t)=>{"use strict";t.d(r,{F:()=>l});var s=t(60687),i=t(43210),a=t(68123),n=t(4780);let l=i.forwardRef(({className:e,children:r,...t},i)=>(0,s.jsxs)(a.bL,{ref:i,className:(0,n.cn)("relative overflow-hidden",e),...t,children:[(0,s.jsx)(a.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(o,{}),(0,s.jsx)(a.OK,{})]}));l.displayName=a.bL.displayName;let o=i.forwardRef(({className:e,orientation:r="vertical",...t},i)=>(0,s.jsx)(a.VM,{ref:i,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:(0,s.jsx)(a.lr,{className:"relative flex-1 rounded-full bg-border"})}));o.displayName=a.VM.displayName},44493:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>l,wL:()=>u});var s=t(60687),i=t(43210),a=t(4780);let n=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let l=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let o=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight text-primary",e),...r}));o.displayName="CardTitle";let d=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},47308:(e,r,t)=>{Promise.resolve().then(t.bind(t,16438))},50812:(e,r,t)=>{"use strict";t.d(r,{C:()=>d,z:()=>o});var s=t(60687),i=t(43210),a=t(14555),n=t(73256),l=t(4780);let o=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)(a.bL,{className:(0,l.cn)("grid gap-2",e),...r,ref:t}));o.displayName=a.bL.displayName;let d=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)(a.q7,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,s.jsx)(a.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(n.A,{className:"h-2.5 w-2.5 fill-current text-current"})})}));d.displayName=a.q7.displayName},60460:(e,r,t)=>{Promise.resolve().then(t.bind(t,3316))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67969:(e,r,t)=>{"use strict";function s(e,[r,t]){return Math.min(t,Math.max(r,e))}t.d(r,{q:()=>s})},70440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(31658);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},71273:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},77368:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},79551:e=>{"use strict";e.exports=require("url")},83721:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(43210);function i(e){let r=s.useRef({value:e,previous:e});return s.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},96963:(e,r,t)=>{"use strict";t.d(r,{B:()=>o});var s,i=t(43210),a=t(66156),n=(s||(s=t.t(i,2)))["useId".toString()]||(()=>void 0),l=0;function o(e){let[r,t]=i.useState(n());return(0,a.N)(()=>{e||t(e=>e??String(l++))},[e]),e||(r?`radix-${r}`:"")}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,8736,1658,8123,1486,99],()=>t(17869));module.exports=s})();