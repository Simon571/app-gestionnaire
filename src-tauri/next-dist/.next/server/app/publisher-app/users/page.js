(()=>{var e={};e.id=8132,e.ids=[8132],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6630:(e,t,r)=>{Promise.resolve().then(r.bind(r,89788))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11329:(e,t,r)=>{"use strict";r.d(t,{DX:()=>l});var s=r(43210);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var i=r(60687),l=function(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...i}=e;if(s.isValidElement(r)){var l;let e,a,o=(l=r,(a=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(a=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),d=function(e,t){let r={...t};for(let s in t){let n=e[s],i=t[s];/^on[A-Z]/.test(s)?n&&i?r[s]=(...e)=>{let t=i(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...i}:"className"===s&&(r[s]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==s.Fragment&&(d.ref=t?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=n(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():n(e[t],null)}}}}(t,o):o),s.cloneElement(r,d)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:n,...l}=e,a=s.Children.toArray(n),d=a.find(o);if(d){let e=d.props.children,n=a.map(t=>t!==d?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...l,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...l,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}("Slot"),a=Symbol("radix.slottable");function o(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},59824:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66462:(e,t,r)=>{Promise.resolve().then(r.bind(r,68942))},68942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Public\\\\Documents\\\\app-gestionnaire\\\\src\\\\app\\\\publisher-app\\\\users\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\publisher-app\\users\\page.tsx","default")},77368:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},79551:e=>{"use strict";e.exports=require("url")},88301:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),n=r(48088),i=r(88170),l=r.n(i),a=r(30893),o={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);r.d(t,o);let d={children:["",{children:["publisher-app",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68942)),"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\publisher-app\\users\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\publisher-app\\users\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/publisher-app/users/page",pathname:"/publisher-app/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},89788:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var s=r(60687),n=r(43210),i=r(29523),l=r(44493),a=r(15079),o=r(89667),d=r(77368),c=r(59824),u=r(82614);let p=(0,u.A)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);var h=r(28946),m=r(27247),x=r(6211),f=r(56896),j=r(4780);let g=(0,u.A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);function v({users:e,onSelectionChange:t}){let[r,a]=n.useState(new Set),[o,d]=n.useState(null),c=n.useMemo(()=>{let t=[...e];return null!==o&&t.sort((e,t)=>{let r=e[o.key],s=t[o.key];return void 0===r&&void 0!==s?"ascending"===o.direction?1:-1:void 0===s&&void 0!==r||r<s?"ascending"===o.direction?-1:1:r>s?"ascending"===o.direction?1:-1:0}),t},[e,o]),u=e=>{let t="ascending";o&&o.key===e&&"ascending"===o.direction&&(t="descending"),d({key:e,direction:t})},p=r=>{r?(a(new Set(e.map(e=>e.id))),t(e[e.length-1]||null)):(a(new Set),t(null))},h=(s,n)=>{let i=new Set(r);if(n?i.add(s):i.delete(s),a(i),0===i.size)t(null);else{let r=Array.from(i).pop();t(e.find(e=>e.id===r)||null)}};return(0,s.jsx)(l.Zp,{children:(0,s.jsx)(l.Wu,{className:"p-0",children:(0,s.jsxs)(x.XI,{children:[(0,s.jsx)(x.A0,{children:(0,s.jsxs)(x.Hj,{children:[(0,s.jsx)(x.nd,{children:(0,s.jsx)(f.S,{checked:r.size>0&&r.size===e.length,onCheckedChange:e=>p(!!e)})}),(0,s.jsx)(x.nd,{children:(0,s.jsxs)(i.Button,{variant:"ghost",onClick:()=>u("lastName"),children:["Nom de famille",(0,s.jsx)(g,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(x.nd,{children:(0,s.jsxs)(i.Button,{variant:"ghost",onClick:()=>u("firstName"),children:["Pr\xe9nom",(0,s.jsx)(g,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsx)(x.nd,{children:"PIN"}),(0,s.jsx)(x.nd,{children:"D\xe9l\xe9gu\xe9"}),(0,s.jsx)(x.nd,{children:"Appareils connect\xe9s"})]})}),(0,s.jsx)(x.BF,{children:c.map(e=>(0,s.jsxs)(x.Hj,{className:(0,j.cn)("hover:bg-muted/50","Non connect\xe9"===e.status&&"bg-red-100 dark:bg-red-900/20 hover:bg-red-200 dark:hover:bg-red-900/30",r.has(e.id)&&"bg-blue-100 dark:bg-blue-900/20"),onClick:()=>h(e.id,!r.has(e.id)),children:[(0,s.jsx)(x.nA,{children:(0,s.jsx)(f.S,{checked:r.has(e.id)})}),(0,s.jsx)(x.nA,{children:e.lastName}),(0,s.jsx)(x.nA,{children:e.firstName}),(0,s.jsx)(x.nA,{children:e.pin}),(0,s.jsx)(x.nA,{children:e.delegate||"N/A"}),(0,s.jsx)(x.nA,{children:e.devices.length>0?`${e.devices.length} appareil(s)`:"Non connect\xe9"})]},e.id))})]})})})}var y=r(18360);let b=(e,t)=>{let r=t.find(t=>t.id===e.spiritual.group)?.name||"Non assign\xe9",s=e.pin||"N/A",n="Non connect\xe9";return e.spiritual.active?n="Actif":e.spiritual.isDeleted&&(n="Inactif"),{id:e.id,lastName:e.lastName,firstName:e.firstName,email:e.email1||e.email2||"",pin:s,delegate:void 0,status:n,group:r,devices:[]}};function k(){let{people:e,preachingGroups:t}=(0,y.d)(),[r,u]=n.useState(null),[x,f]=n.useState("all"),[j,g]=n.useState("all"),k=n.useCallback(()=>{r?.email&&(window.location.href=`mailto:${r.email}?subject=Invitation \xe0 utiliser l'application Publisher&body=Bonjour,`)},[r]),N=n.useMemo(()=>e.map(e=>b(e,t)),[e,t]),w=n.useMemo(()=>N.filter(e=>{let t="all"===x||e.status===x,r="all"===j||e.group===j;return t&&r}),[N,x,j]),A=!r;return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[280px_1fr] gap-6",children:[(0,s.jsx)("div",{className:"flex flex-col gap-4",children:(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{children:"Actions"})}),(0,s.jsxs)(l.Wu,{className:"flex flex-col gap-2",children:[(0,s.jsxs)(i.Button,{variant:"outline",disabled:A,className:"justify-start gap-2",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Actualiser la personne"})]}),(0,s.jsxs)(i.Button,{variant:"outline",disabled:A,className:"justify-start gap-2",children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"R\xe9initialiser le PIN"})]}),(0,s.jsxs)(i.Button,{variant:"outline",disabled:A,className:"justify-start gap-2",children:[(0,s.jsx)(p,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Attribuer un d\xe9l\xe9gu\xe9"})]}),(0,s.jsxs)(i.Button,{variant:"outline",className:"justify-start gap-2",onClick:()=>window.print(),children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Imprimer"})]}),(0,s.jsxs)(i.Button,{variant:"outline",className:"justify-start gap-2",disabled:A,onClick:k,children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Envoyer un e-mail dâ€™invitation"})]})]})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)(o.p,{placeholder:"Rechercher par nom ou PIN...",className:"max-w-sm"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)(a.l6,{value:x,onValueChange:f,children:[(0,s.jsx)(a.bq,{children:(0,s.jsx)(a.yv,{placeholder:"Statut"})}),(0,s.jsxs)(a.gC,{children:[(0,s.jsx)(a.eb,{value:"all",children:"Tous les statuts"}),(0,s.jsx)(a.eb,{value:"Actif",children:"Actif"}),(0,s.jsx)(a.eb,{value:"Inactif",children:"Inactif"}),(0,s.jsx)(a.eb,{value:"Non connect\xe9",children:"Non connect\xe9"})]})]}),(0,s.jsxs)(a.l6,{value:j,onValueChange:g,children:[(0,s.jsx)(a.bq,{children:(0,s.jsx)(a.yv,{placeholder:"Groupe"})}),(0,s.jsxs)(a.gC,{children:[(0,s.jsx)(a.eb,{value:"all",children:"Tous les groupes"}),t.map(e=>(0,s.jsx)(a.eb,{value:e.name,children:e.name},e.id))]})]})]})]}),(0,s.jsx)(v,{users:w,onSelectionChange:u})]})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,8736,1658,4591,99,7802],()=>r(88301));module.exports=s})();