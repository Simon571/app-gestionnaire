(()=>{var e={};e.id=6969,e.ids=[6969],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10869:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var s=r(90327);function n(e,t){return(0,s.f)(e,7*t)}},15675:(e,t,r)=>{Promise.resolve().then(r.bind(r,72847))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},40211:(e,t,r)=>{"use strict";r.d(t,{C1:()=>C,bL:()=>N});var s=r(43210),n=r(98599),a=r(11273),l=r(70569),i=r(65551),d=r(83721),o=r(18853),c=r(46059),u=r(3416),p=r(60687),m="Checkbox",[f,x]=(0,a.A)(m),[h,v]=f(m),g=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:a,checked:d,defaultChecked:o,required:c,disabled:m,value:f="on",onCheckedChange:x,form:v,...g}=e,[j,b]=s.useState(null),N=(0,n.s)(t,e=>b(e)),C=s.useRef(!1),P=!j||v||!!j.closest("form"),[A=!1,M]=(0,i.i)({prop:d,defaultProp:o,onChange:x}),E=s.useRef(A);return s.useEffect(()=>{let e=j?.form;if(e){let t=()=>M(E.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[j,M]),(0,p.jsxs)(h,{scope:r,state:A,disabled:m,children:[(0,p.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":w(A)?"mixed":A,"aria-required":c,"data-state":k(A),"data-disabled":m?"":void 0,disabled:m,value:f,...g,ref:N,onKeyDown:(0,l.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.m)(e.onClick,e=>{M(e=>!!w(e)||!e),P&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),P&&(0,p.jsx)(y,{control:j,bubbles:!C.current,name:a,value:f,checked:A,required:c,disabled:m,form:v,style:{transform:"translateX(-100%)"},defaultChecked:!w(o)&&o})]})});g.displayName=m;var j="CheckboxIndicator",b=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...n}=e,a=v(j,r);return(0,p.jsx)(c.C,{present:s||w(a.state)||!0===a.state,children:(0,p.jsx)(u.sG.span,{"data-state":k(a.state),"data-disabled":a.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});b.displayName=j;var y=e=>{let{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...l}=e,i=s.useRef(null),c=(0,d.Z)(r),u=(0,o.X)(t);s.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let s=new Event("click",{bubbles:n});e.indeterminate=w(r),t.call(e,!w(r)&&r),e.dispatchEvent(s)}},[c,r,n]);let m=s.useRef(!w(r)&&r);return(0,p.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,...l,tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return"indeterminate"===e}function k(e){return w(e)?"indeterminate":e?"checked":"unchecked"}var N=g,C=b},42102:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var s=r(47138);function n(e){let t=(0,s.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},43680:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var s=r(60687),n=r(43210),a=r(44493),l=r(15079),i=r(56896),d=r(89667),o=r(80013),c=r(91821),u=r(42102),p=r(46127),m=r(10869),f=r(33660),x=r(47138);function h(e){return(0,x.a)(e).getDay()}var v=r(90327);function g(e){return(0,x.a)(e).getMonth()}var j=r(75699),b=r(54804),y=r(93559),w=r(16560),k=r(84334);let N=e=>(function(e,t){let r=(0,x.a)(e.start),s=(0,x.a)(e.end),n=+r>+s,a=n?(0,f.k)(s,void 0):(0,f.k)(r,void 0),l=n?(0,f.k)(r,t):(0,f.k)(s,t);a.setHours(15),l.setHours(15);let i=+l.getTime(),d=a,o=t?.step??1;if(!o)return[];o<0&&(o=-o,n=!n);let c=[];for(;+d<=i;)d.setHours(0),c.push((0,x.a)(d)),(d=(0,m.J)(d,o)).setHours(15);return n?c.reverse():c})({start:(0,u.w)(e),end:(0,p.p)(e)}).map(t=>{let r=3>=h(t)?(0,v.f)(t,3-h(t)):(0,v.f)(t,10-h(t)),s=0>=h(t)?(0,v.f)(t,0-h(t)):(0,v.f)(t,7-h(t));return{midweek:g(r)===g(e)?r:null,weekend:g(s)===g(e)?s:null}});function C(){let[e,t]=n.useState(new Date),[r,u]=n.useState(N(e)),[p,m]=n.useState(()=>({midweek:{present:Array(r.length).fill(null),online:Array(r.length).fill(null)},weekend:{present:Array(r.length).fill(null),online:Array(r.length).fill(null)}})),[f,x]=n.useState(!1),[h,v]=n.useState(!1),C=e=>`attendance-${(0,j.GP)(e,"yyyy-MM")}`;n.useEffect(()=>{let t=N(e);u(t);let r=C(e),s=localStorage.getItem(r);s?m(JSON.parse(s)):m({midweek:{present:Array(t.length).fill(null),online:Array(t.length).fill(null)},weekend:{present:Array(t.length).fill(null),online:Array(t.length).fill(null)}}),v(!0)},[e]),n.useEffect(()=>{if(h){let t=C(e);localStorage.setItem(t,JSON.stringify(p))}},[p,e,h]);let P=(e,t,r,s)=>{let n=""===s?null:Number(s),a={...p};a[e][t][r]=n,m(a);let l=null===a.midweek.present[r]||null===a.midweek.online[r],i=null===a.weekend.present[r]||null===a.weekend.online[r];x(l||i)},A=e=>{let t=e.reduce((e,t)=>e+(t||0),0),r=e.filter(e=>null!==e).length,s=r>0?Math.round(t/r):0;return{total:t,average:s}},M=A(p.midweek.present),E=A(p.midweek.online),D=A(r.map((e,t)=>(p.midweek.present[t]||0)+(p.midweek.online[t]||0))),S=A(p.weekend.present),_=A(p.weekend.online),F=A(r.map((e,t)=>(p.weekend.present[t]||0)+(p.weekend.online[t]||0))),R=Array.from({length:10},(e,t)=>(0,w.C)(new Date)-5+t),q=Array.from({length:12},(e,t)=>({value:t.toString(),label:(0,j.GP)((0,y.Z)(new Date,t),"MMMM",{locale:k.fr})})),G=r.map((e,t)=>({midweek:(p.midweek.present[t]||0)+(p.midweek.online[t]||0),weekend:(p.weekend.present[t]||0)+(p.weekend.online[t]||0)}));return(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)(a.Zp,{children:[(0,s.jsx)(a.aR,{children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"year",children:"Ann\xe9e"}),(0,s.jsxs)(l.l6,{value:(0,w.C)(e).toString(),onValueChange:e=>{v(!1),t(t=>(0,b.i)(t,parseInt(e)))},children:[(0,s.jsx)(l.bq,{id:"year",className:"w-32",children:(0,s.jsx)(l.yv,{})}),(0,s.jsx)(l.gC,{children:R.map(e=>(0,s.jsx)(l.eb,{value:e.toString(),children:e},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"month",children:"Mois"}),(0,s.jsxs)(l.l6,{value:g(e).toString(),onValueChange:e=>{v(!1),t(t=>(0,y.Z)(t,parseInt(e)))},children:[(0,s.jsx)(l.bq,{id:"month",className:"w-36 capitalize",children:(0,s.jsx)(l.yv,{})}),(0,s.jsx)(l.gC,{children:q.map(e=>(0,s.jsx)(l.eb,{value:e.value,className:"capitalize",children:e.label},e.value))})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(i.S,{id:"show-dates",defaultChecked:!0}),(0,s.jsx)(o.Label,{htmlFor:"show-dates",className:"font-normal",children:"Afficher les dates de r\xe9union"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(i.S,{id:"show-online",defaultChecked:!0}),(0,s.jsx)(o.Label,{htmlFor:"show-online",className:"font-normal",children:"Afficher la participation en ligne"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(i.S,{id:"show-custom"}),(0,s.jsx)(o.Label,{htmlFor:"show-custom",className:"font-normal",children:"Afficher la participation personnalis\xe9e"})]})]})]})}),(0,s.jsxs)(a.Wu,{children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("div",{className:"grid gap-x-2",style:{gridTemplateColumns:`150px repeat(${r.length}, 1fr) 1fr 1fr`},children:[(0,s.jsx)("div",{}),r.map((e,t)=>(0,s.jsx)("div",{className:"text-center font-bold",children:(0,s.jsxs)("p",{children:["Semaine ",t+1]})},t)),(0,s.jsx)("div",{className:"text-center font-bold",children:"Total"}),(0,s.jsx)("div",{className:"text-center font-bold",children:"Moyenne"}),(0,s.jsx)("div",{}),r.map((e,t)=>(0,s.jsx)("div",{className:"text-center text-xs text-muted-foreground pt-1",children:e.midweek&&(0,j.GP)(e.midweek,"yyyy/MM/dd")},t)),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{className:"row-span-3 flex items-center font-bold text-primary",children:"R\xe9union de semaine"}),r.map((e,t)=>(0,s.jsx)(d.p,{type:"number",className:"text-center",value:p.midweek.present[t]??"",onChange:e=>P("midweek","present",t,e.target.value)},t)),(0,s.jsx)("div",{className:"flex items-center justify-center font-semibold",children:M.total}),(0,s.jsx)("div",{className:"flex items-center justify-center font-semibold",children:M.average}),(0,s.jsx)("div",{className:"self-end pb-2 text-sm text-right pr-2",children:"En pr\xe9sentiel"}),r.map((e,t)=>(0,s.jsx)(d.p,{type:"number",className:"text-center",value:p.midweek.online[t]??"",onChange:e=>P("midweek","online",t,e.target.value)},t)),(0,s.jsx)("div",{className:"flex items-center justify-center font-semibold",children:E.total}),(0,s.jsx)("div",{className:"flex items-center justify-center font-semibold",children:E.average}),(0,s.jsx)("div",{className:"self-end pb-2 text-sm text-right pr-2",children:"En ligne"}),G.map((e,t)=>(0,s.jsx)("div",{className:"flex items-center justify-center font-bold",children:e.midweek||""},t)),(0,s.jsx)("div",{className:"flex items-center justify-center font-bold",children:D.total}),(0,s.jsx)("div",{className:"flex items-center justify-center font-bold",children:D.average}),(0,s.jsx)("div",{className:"self-end pb-2 text-sm text-right pr-2 font-bold",children:"Total"}),(0,s.jsx)("div",{className:"col-span-full h-4"}),(0,s.jsx)("div",{}),r.map((e,t)=>(0,s.jsx)("div",{className:"text-center text-xs text-muted-foreground pt-1",children:e.weekend&&(0,j.GP)(e.weekend,"yyyy/MM/dd")},t)),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{className:"row-span-3 flex items-center font-bold text-orange-600",children:"R\xe9union de week-end"}),r.map((e,t)=>(0,s.jsx)(d.p,{type:"number",className:"text-center",value:p.weekend.present[t]??"",onChange:e=>P("weekend","present",t,e.target.value)},t)),(0,s.jsx)("div",{className:"flex items-center justify-center font-semibold",children:S.total}),(0,s.jsx)("div",{className:"flex items-center justify-center font-semibold",children:S.average}),(0,s.jsx)("div",{className:"self-end pb-2 text-sm text-right pr-2",children:"En pr\xe9sentiel"}),r.map((e,t)=>(0,s.jsx)(d.p,{type:"number",className:"text-center",value:p.weekend.online[t]??"",onChange:e=>P("weekend","online",t,e.target.value)},t)),(0,s.jsx)("div",{className:"flex items-center justify-center font-semibold",children:_.total}),(0,s.jsx)("div",{className:"flex items-center justify-center font-semibold",children:_.average}),(0,s.jsx)("div",{className:"self-end pb-2 text-sm text-right pr-2",children:"En ligne"}),G.map((e,t)=>(0,s.jsx)("div",{className:"flex items-center justify-center font-bold",children:e.weekend||""},t)),(0,s.jsx)("div",{className:"flex items-center justify-center font-bold",children:F.total}),(0,s.jsx)("div",{className:"flex items-center justify-center font-bold",children:F.average}),(0,s.jsx)("div",{className:"self-end pb-2 text-sm text-right pr-2 font-bold",children:"Total"})]})}),f&&(0,s.jsx)(c.Fc,{variant:"destructive",className:"mt-4",children:(0,s.jsx)(c.TN,{children:"Avertissement: Une r\xe9union a eu lieu, mais certaines cellules sont vides. Veuille saisir la pr\xe9sence (ou 0) pour toutes les semaines pendant lesquelles une r\xe9union a eu lieu."})})]})]})})}},46127:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(47138);function n(e){let t=(0,s.a)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}},54804:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});var s=r(35780),n=r(47138);function a(e,t){let r=(0,n.a)(e);return isNaN(+r)?(0,s.w)(e,NaN):(r.setFullYear(t),r)}},60523:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var s=r(65239),n=r(48088),a=r(88170),l=r.n(a),i=r(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let o={children:["",{children:["reports",{children:["entry",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,72847)),"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\reports\\entry\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\reports\\entry\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/reports/entry/page",pathname:"/reports/entry",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68819:(e,t,r)=>{Promise.resolve().then(r.bind(r,43680))},72847:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Public\\\\Documents\\\\app-gestionnaire\\\\src\\\\app\\\\reports\\\\entry\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Public\\Documents\\app-gestionnaire\\src\\app\\reports\\entry\\page.tsx","default")},79551:e=>{"use strict";e.exports=require("url")},90327:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var s=r(47138),n=r(35780);function a(e,t){let r=(0,s.a)(e);return isNaN(t)?(0,n.w)(e,NaN):(t&&r.setDate(r.getDate()+t),r)}},91821:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>d,TN:()=>o});var s=r(60687),n=r(43210),a=r(24224),l=r(4780);let i=(0,a.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=n.forwardRef(({className:e,variant:t,...r},n)=>(0,s.jsx)("div",{ref:n,role:"alert",className:(0,l.cn)(i({variant:t}),e),...r}));d.displayName="Alert",n.forwardRef(({className:e,...t},r)=>(0,s.jsx)("h5",{ref:r,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let o=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...t}));o.displayName="AlertDescription"},93559:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(35780),n=r(47138);function a(e,t){let r=(0,n.a)(e),a=r.getFullYear(),l=r.getDate(),i=(0,s.w)(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);let d=function(e){let t=(0,n.a)(e),r=t.getFullYear(),a=t.getMonth(),l=(0,s.w)(e,0);return l.setFullYear(r,a+1,0),l.setHours(0,0,0,0),l.getDate()}(i);return r.setMonth(t,Math.min(l,d)),r}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,8736,1658,4591,1265,4394,99,2779],()=>r(60523));module.exports=s})();